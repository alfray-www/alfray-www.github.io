<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport"    content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author"      content="">

<link href="atom.xml" type="application/atom+xml" rel="alternate" title="Atom feed for Blog: Model Train-related Notes" />

<meta property="og:url"         content="https://www.alfray.com/trains/blog/train/2023-02-22_alternatives_locations_for_b_d7713a5c.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Alternatives Locations for Block Detection at Randall" />

<meta property="og:description" content="For now I’ve been doing block detection on the Randall layout using NCE BD20 current detectors. I have part of the Mountain Panel wired, and I’d like to have more there. I’d like to also have block detection of part of the Valley, and that’s where I have been hitting a wall for the last two years. I just can’t figure out a clean way to do it." />
<meta property="og:image"       content="https://www.alfray.com/trains/blog/train/img_c66df19958a0c7df87390fe128cb4a60557c6cdea0a5b5d0c5a3fd4c2dd22b91i.jpg" />

<meta name="twitter:card"        content="summary" />
<!-- meta name="twitter:site"    content="@flickr" / -->
<meta name="twitter:title"       content="Alternatives Locations for Block Detection at Randall" />

<meta name="twitter:description" content="For now I’ve been doing block detection on the Randall layout using NCE BD20 current detectors. I have part of the Mountain Panel wired, and I’d like to have more there. I’d like to also have block detection of part of the Valley, and that’s where I have been hitting a wall for the last two years. I just can’t figure out a clean way to do it." />
<meta name="twitter:image"       content="https://www.alfray.com/trains/blog/train/img_c66df19958a0c7df87390fe128cb4a60557c6cdea0a5b5d0c5a3fd4c2dd22b91i.jpg" />

<title>Blog: Model Train-related Notes</title>

<script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5c66171070e9220011ed1c61&product=inline-share-buttons" async="async"></script>

<!-- Custom styles for this template -->
<style type="text/css">
body {
    font-family: sans-serif;
    margin: 0;
}

.main {
    margin: 8px;
}

p, span {
    line-height: 1.2;
    text-align: justify;
}

p.console {
    margin: 0;
    padding: 0;
}

.container {
    max-width: 95%;
}

@media screen and (min-width: 600px) {
    .container {
        max-width: 60rem;
    }
}

.center-horiz {
    margin: auto;
}

.no-margin-container {
}

/* Header + Title */
.blog-header {
  margin-bottom: 3rem;
  background-color: #428bca;
  box-shadow: inset 0 -.1rem .25rem rgba(0,0,0,.1);
}


.banner-bg-image {
    height: 50px;
    background-image: url("header.jpg");
    background-position: center;
    background-size: 100% auto;
}

@media screen and (min-width: 600px) {
    .banner-bg-image {
        height: 200px;
    }
}


.title-container {
    color: #fff;
    padding: 1rem;
    line-height: 1.5;
    font-weight: 500;
    font-size: 24px;
    font-family: sans-serif;
}

.title-container a {
    color: #fff;
    text-decoration: none;
}

.post-container {
}

.bottom-container {
    margin-top: 8px;
    color: #fff;
    background-color: #428bca;
    font-family: sans-serif;
    text-align: center;
    font-size: small;
    line-height: 1rem;
}

@media screen and (min-width: 600px) {
    .bottom-container {
        font-size: x-small;
    }
}

.post-title-container {
    position: relative;
    background-color: #428bca;
    padding: 0.5rem;
}

.post-title {
    display: inline;
    color: #fff;
    font-weight: 500;
    font-family: sans-serif;
    font-size: 1.5em;
}

a.post-title-link {
    color: #fff;
    text-decoration: none;
}

.post-cat {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    padding: 0.25rem;
    background-color: #d0e0e3;
    color: #000;
    font-weight: 500;
    font-family: sans-serif;
    font-size: 1.5em;
}

a.post-cat-link {
    color: #000;
    text-decoration: none;
}

.post-cat-label {
    display: block;
    text-align: right;
    color: #000;
    font-size: 0.4em;
}

.prev-next-container {
    overflow: auto;
}

.prev-page {
    float: left;
    line-height: 2em;
}

.next-page {
    float: right;
    line-height: 2em;
}

h1, h2, h3, h4, h5, h6 {
    font-family: sans-serif;
    font-weight: bold;
}

.text-hide {
    font: 0/0 a;
    color: transparent;
    text-shadow: none;
    background-color: transparent;
    border: 0;
}

td p {
    margin: 0;
}


</style>
</head>

<body>

<header class="blog-header">

    <div class="no-margin-container banner-bg-image text-hide">
        Site Banner Image
    </div>

    <div class="title-container">
        <a href="https://www.alfray.com/trains/">Ralf's Train Pages</a>
        
        /
        <a href="0004.html">Blog: Model Train-related Notes</a>
        
    </div>
</header>

<main role="main">
<div class="main">
<div class="container center-horiz">

<p><span> </span></p>
<p><span></span></p>
<p><span> </span></p>
<table style="border-collapse:collapse;border-spacing:0;margin-left:auto;margin-right:auto">
 <tbody>
  <tr style="height:0pt">
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:149.4pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/" style="color:inherit;text-decoration:inherit">Train Pages</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:149.4pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/" style="color:inherit;text-decoration:inherit">Tech Blog</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:149.4pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/rtac.html" style="color:inherit;text-decoration:inherit">RTAC Software</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:149.4pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.youtube.com/c/raphaelmoll" style="color:inherit;text-decoration:inherit">Videos</a></span></p></td>
  </tr>
 </tbody>
</table>
<p></p>
<p><span style="font-style:italic">Model Train-related Notes Blog -- t</span><span style="font-style:italic">hese are personal notes and musings on the subject of model train control, automation, electronics, or whatever I find interesting. I also have more posts in a blog dedicated to the maintenance of the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/" style="color:inherit;text-decoration:inherit">Randall Museum Model Railroad</a></span><span style="font-style:italic">.</span></p>
<p><span></span></p>

<div class="prev-next-container">


    <span class="prev-page"><a href="2023-02-24_sdb_mqtt.html">⇐ Newer Post</a><br/></span>
    <span class="next-page"><a href="2023-01-31_sdb_overall_module_design.html">Older Post ⇒</a><br/></span>

</div>


    <div class="post-container">
    <div class="post-title-container"><h2 class="post-title">2023-02-22 - Alternatives Locations for Block Detection at Randall</h2>
    <span class="post-cat" title="Category">
            <span class="post-cat-label">Category</span>
            <span class="post-cat-text">Train</span>
    </span>
    </div>


    <p></p>
<p><span>For now I’ve been doing block detection on the Randall layout using NCE BD20 current detectors. I have part of the Mountain Panel wired, and I’d like to have more there. I’d like to also have block detection of part of the Valley, and that’s where I have been hitting a wall for the last two years. I just can’t figure out a clean way to do it.</span></p>
<p></p>
<p><span>Block detection using BD20-style current detectors can be done at various points. Let’s review the possibilities:</span></p>
<p><span></span></p>
<p></p>
<p></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>At the panel, on the red wires out of the panel.</span></li>
 <ul>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Pros: it’s easy to identify which wire is for which block.</span></li>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Cons: Although that’s OK for the Mountain Panel, it’s a PITA for the Valley Panel which is such a mess that I’d rather not touch anything in there.</span></li>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Current version looks like this for the Mountain Panel:<br></span><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:282.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:626.00px"><img alt="" src="img_c66df19958a0c7df87390fe128cb4a60557c6cdea0a5b5d0c5a3fd4c2dd22b91i.jpg" style="height:597.00px;margin-left:-0.00px;margin-top:-163.00px;width:796.49px" title=""></span></li>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Here’s the Valley Panel and why I don’t want to touch it with a ten-foot pole:<br></span><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:282.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:625.00px"><img alt="" src="img_5d9859d3fae56dc523e277cf21c48fd947f9ba147c86f728d4af501becde6dbci.jpg" style="height:597.00px;margin-left:-47.85px;margin-top:-225.00px;width:797.54px" title=""></span></li>
 </ul>
</ul>
<p></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>At the “spiked” connector grid that concentrates blocks for panel 1 + 2.</span></li>
 <ul>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Cons: This thing looks very delicate to solder. I basically don’t want to touch it.</span></li>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>This is what this looks like for Mountain (top) and Valley (bottom):<br></span><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:271.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:621.60px"><img alt="" src="img_45a963015e37c0de098178e71489ea66bcea403a9254c2e05f44eeaa6952909ci.jpg" style="height:597.00px;margin-left:-175.40px;margin-top:-250.00px;width:797.00px" title=""></span><span><br></span><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:263.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:623.00px"><img alt="" src="img_b6985209306c9f96328de29c7ae6a1b8921cb002fc5c207de18ade3bd6c86fa1i.jpg" style="height:597.00px;margin-left:-57.86px;margin-top:-198.00px;width:797.07px" title=""></span></li>
 </ul>
</ul>
<p></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Next to the track, on the red wire side of each block, running long wires with twisted pairs to NCE AIU cards mountain around the layout. That was my initial plan back in 2016 before I decided it was a terrible idea.</span></li>
</ul>
<p></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>On the black wires “concentrator” under Stockton, which merges all the common-rails negatives from all the power districts together.</span></li>
 <ul>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>The interconnection bar looks like:<br></span><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:225.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:625.00px"><img alt="" src="img_89631e015c792d7ac71fb2a5dbcb05932fa7313e52789e78c06d4915fb12e3cei.jpg" style="height:469.00px;margin-left:-0.00px;margin-top:-161.00px" title=""></span></li>
 </ul>
</ul>
<p></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>On the black wire bundle by the workbench, as allegedly used by the old DC detector.</span></li>
 <ul>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>The bundled wires looping at the workbench in the back look like:<br></span><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:289.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:624.00px"><img alt="" src="img_a067315e2ca847f6c1dccdb6b4c02dbf3909e9b9101598be3d1c45b71776aa8ai.jpg" style="height:468.00px;margin-left:-0.00px;margin-top:-71.00px" title=""></span><span><br></span><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:260.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:626.40px"><img alt="" src="img_76a69c7aec227f13b3c486cdd2f76554650146fea97e459aa0155ce077bb965di.jpg" style="height:597.00px;margin-left:-37.40px;margin-top:-84.00px;width:796.91px" title=""></span></li>
 </ul>
</ul>
<p></p>
<p><span>To be clear, the main issue is figuring out which wire corresponds to which block, since they are mostly unmarked. A few of them are labeled, and I’m not even sure I trust these labels. The black wires </span><span>bundles</span><span>&nbsp;by the workbench have their own markings that do not match with the block numbers. I believe these come from the mountain district only.</span></p>
<p></p>
<p><span>The second issue is that the through-hole CT sensors require the wire to be either disconnected or cut so that they can be threaded through the core transformer. I’d rather not have to do that if I can avoid it. Thus I’d rather do this where the wire has some kind of connection that I can easily desolder then resolder.</span></p>
<p></p>
<p><span>Last but not least, the third issue is that parts of this layout are better left untouched. The “train room exhibit” has to be functional 5 days a week, and some of the operators have very low tolerance to anything not working for even a short period of time. Thus any work I do cannot be disruptive, yet some is bound to be, for sure. That’s part of why I don’t want to start messing around with finicky complicated panels. Any work I do has to be able to be incremental and split into small enough tasks that I can handle each one in a day, once in a while when time permits.</span></p>
<p></p>
<p><span>For the common ground “concentrator” under Stockton, I posit that some blocks are likely merged due to the common rail design: in common rail, the “negative / ground” is a continuous rail along a subdivision, with only the “positive” rail being switched on/off by the block toggles. </span></p>
<p></p>
<p><span>OTOH the Randall layout was supposed to have DC block detectors, and that’s supposedly what this massive bundle of wires going to the back workbench is all about. So assuming these are still connected, they would be a logical place to put block detectors if I do not want to put them at the panel. I’ve tried following these wires and I quickly got lost.</span></p>
<p><span>One thing I don’t understand is how the DC block detectors could work detecting separate blocks on the black side if these were wired together via common rail. Something doesn’t add up here. I really wished someone had left some documentation on that behind.</span></p>
<p></p>
<hr>
<p></p>


    </div>



<div class="prev-next-container">


    <span class="prev-page"><a href="2023-02-24_sdb_mqtt.html">⇐ Newer Post</a><br/></span>
    <span class="next-page"><a href="2023-01-31_sdb_overall_module_design.html">Older Post ⇒</a><br/></span>

</div>

</div> <!-- container -->
</div> <!-- main -->

<div class="sharethis-inline-share-buttons"></div>

<div class="bottom-container">&nbsp;Generated on 2025-09-05 by Rig4j 0.1-Exp-05cc7b2&nbsp;</div>

</main>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-M1KDMEFC4D"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M1KDMEFC4D');
</script>

</body>
</html>

