<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport"    content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author"      content="">

<link href="atom.xml" type="application/atom+xml" rel="alternate" title="Atom feed for Blog: Model Train-related Notes" />

<meta property="og:url"         content="https://www.alfray.com/trains/blog/train/0004.html" />
<meta property="og:type"        content="article" />

<meta property="og:title"       content="Blog: Model Train-related Notes" />
<meta property="og:description" content="For now I’ve been doing block detection on the Randall layout using NCE BD20 current detectors. I have part of the Mountain Panel wired, and I’d like to have more there. I’d like to also have block detection of part of the Valley, and that’s where I have been hitting a wall for the last two years. I just can’t figure out a clean way to do it." />
<meta property="og:image"       content="https://www.alfray.com/trains/blog/train/img_72dab625c51ff3a5a7d9fee3aa0d794abe2f7eddfaff843899ddbeda5d278b4ad.jpg" />

<meta name="twitter:card"        content="summary" />
<!-- meta name="twitter:site"    content="@flickr" / -->

<meta name="twitter:title"       content="Blog: Model Train-related Notes" />
<meta name="twitter:description" content="For now I’ve been doing block detection on the Randall layout using NCE BD20 current detectors. I have part of the Mountain Panel wired, and I’d like to have more there. I’d like to also have block detection of part of the Valley, and that’s where I have been hitting a wall for the last two years. I just can’t figure out a clean way to do it." />
<meta name="twitter:image"       content="https://www.alfray.com/trains/blog/train/img_72dab625c51ff3a5a7d9fee3aa0d794abe2f7eddfaff843899ddbeda5d278b4ad.jpg" />

<title>Blog: Model Train-related Notes</title>

<script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5c66171070e9220011ed1c61&product=inline-share-buttons" async="async"></script>

<!-- Custom styles for this template -->
<style type="text/css">
body {
    font-family: sans-serif;
    margin: 0;
}

.main {
    margin: 8px;
}

p, span {
    line-height: 1.2;
    text-align: justify;
}

p.console {
    margin: 0;
    padding: 0;
}

.container {
    max-width: 95%;
}

@media screen and (min-width: 600px) {
    .container {
        max-width: 60rem;
    }
}

.center-horiz {
    margin: auto;
}

.no-margin-container {
}

/* Header + Title */
.blog-header {
  margin-bottom: 3rem;
  background-color: #428bca;
  box-shadow: inset 0 -.1rem .25rem rgba(0,0,0,.1);
}


.banner-bg-image {
    height: 50px;
    background-image: url("header.jpg");
    background-position: center;
    background-size: 100% auto;
}

@media screen and (min-width: 600px) {
    .banner-bg-image {
        height: 200px;
    }
}


.title-container {
    color: #fff;
    padding: 1rem;
    line-height: 1.5;
    font-weight: 500;
    font-size: 24px;
    font-family: sans-serif;
}

.title-container a {
    color: #fff;
    text-decoration: none;
}

.post-container {
}

.bottom-container {
    margin-top: 8px;
    color: #fff;
    background-color: #428bca;
    font-family: sans-serif;
    text-align: center;
    font-size: small;
    line-height: 1rem;
}

@media screen and (min-width: 600px) {
    .bottom-container {
        font-size: x-small;
    }
}

.post-title-container {
    position: relative;
    background-color: #428bca;
    padding: 0.5rem;
}

.post-title {
    display: inline;
    color: #fff;
    font-weight: 500;
    font-family: sans-serif;
    font-size: 1.5em;
}

a.post-title-link {
    color: #fff;
    text-decoration: none;
}

.post-cat {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    padding: 0.25rem;
    background-color: #d0e0e3;
    color: #000;
    font-weight: 500;
    font-family: sans-serif;
    font-size: 1.5em;
}

a.post-cat-link {
    color: #000;
    text-decoration: none;
}

.post-cat-label {
    display: block;
    text-align: right;
    color: #000;
    font-size: 0.4em;
}

.prev-next-container {
    overflow: auto;
}

.prev-page {
    float: left;
    line-height: 2em;
}

.next-page {
    float: right;
    line-height: 2em;
}

h1, h2, h3, h4, h5, h6 {
    font-family: sans-serif;
    font-weight: bold;
}

.text-hide {
    font: 0/0 a;
    color: transparent;
    text-shadow: none;
    background-color: transparent;
    border: 0;
}

td p {
    margin: 0;
}


</style>
</head>

<body>

<header class="blog-header">

    <div class="no-margin-container banner-bg-image text-hide">
        Site Banner Image
    </div>

    <div class="title-container">
        <a href="https://www.alfray.com/trains/">Ralf's Train Pages</a>
        
        /
        <a href="0004.html">Blog: Model Train-related Notes</a>
        
    </div>
</header>

<main role="main">
<div class="main">
<div class="container center-horiz">

<p><span> </span></p>
<p><span></span></p>
<p><span> </span></p>
<table style="border-collapse:collapse;border-spacing:0;margin-left:auto;margin-right:auto">
 <tbody>
  <tr style="height:0pt">
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:149.4pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/" style="color:inherit;text-decoration:inherit">Train Pages</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:149.4pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/" style="color:inherit;text-decoration:inherit">Tech Blog</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:149.4pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/rtac.html" style="color:inherit;text-decoration:inherit">RTAC Software</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:149.4pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.youtube.com/c/raphaelmoll" style="color:inherit;text-decoration:inherit">Videos</a></span></p></td>
  </tr>
 </tbody>
</table>
<p></p>
<p><span style="font-style:italic">Model Train-related Notes Blog -- t</span><span style="font-style:italic">hese are personal notes and musings on the subject of model train control, automation, electronics, or whatever I find interesting. I also have more posts in a blog dedicated to the maintenance of the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/" style="color:inherit;text-decoration:inherit">Randall Museum Model Railroad</a></span><span style="font-style:italic">.</span></p>
<p><span></span></p>

<div class="prev-next-container">

    <span class="prev-page"><a href="0003.html">⇐ Newer Posts</a><br/></span>
    <span class="next-page"><a href="0005.html">Older Posts ⇒</a><br/></span>


</div>



    <div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-02-22_alternatives_locations_for_b_d7713a5c.html">
    <h2 class="post-title">2023-02-22 - Alternatives Locations for Block Detection at Randall</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    
    <a class="post-cat-link" href="../../blog/train" title="View All Category Posts">Train</a>
    </span>
</span></div>

<p></p>
<p><span>For now I’ve been doing block detection on the Randall layout using NCE BD20 current detectors. I have part of the Mountain Panel wired, and I’d like to have more there. I’d like to also have block detection of part of the Valley, and that’s where I have been hitting a wall for the last two years. I just can’t figure out a clean way to do it.</span></p>
<p></p>
<p><span>Block detection using BD20-style current detectors can be done at various points. Let’s review the possibilities:</span></p>
<p><span></span></p>

<a href="2023-02-22_alternatives_locations_for_b_d7713a5c.html">Click here to continue reading...</a>
<p/>
<hr/>
</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-01-31_sdb_overall_module_design.html">
    <h2 class="post-title">2023-01-31 - SDB: Overall Module Design</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    SDB
    
    </span>
</span></div>

<p><span></span></p>
<p></p>
<p><span style="font-style:italic">The </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://github.com/model-railroad/sdb" style="color:inherit;text-decoration:inherit">Software Defined Blocks</a></span><span style="font-style:italic">&nbsp;project uses an ESP32 with sensors to emulate block activations for a train model railroad</span><span>.</span></p>
<p></p>
<p><span>T</span><span>he desire for the MVP is to be designed around “modules”.</span></p>
<p style="text-align:left"></p>
<p style="text-align:left"><span style="font-weight:700">Modules</span></p>
<p style="text-align:left"><span>Each module should have:</span></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt;text-align:left"><span>An init method called when the main starts.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt;text-align:left"><span>A start method called once all other modules have been initialized.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt;text-align:left"><span>A loop method called as part of the main loop.</span></li>
 <ul>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt;text-align:left"><span>The loop method will return the max time it wants to sleep before being called again. The loop method may be invoked sooner than requested, but not later.</span></li>
 </ul>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt;text-align:left"><span>Its own thread-safe message queue.</span></li>
</ul>
<p style="text-align:left"></p>
<p style="text-align:left"><span>Each module is free to start a thread or do their process in the main loop.</span></p>
<p style="text-align:left"><span></span></p>

<a href="2023-01-31_sdb_overall_module_design.html">Click here to continue reading...</a>
<p/>
<hr/>
</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-01-29_sdb_software_defined_blocks.html">
    <h2 class="post-title">2023-01-29 - SDB: Software Defined Blocks</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    SDB
    
    </span>
</span></div>

<p><span></span></p>
<p></p>
<p><span>“</span><span>Software Defined Blocks</span><span>” is a new project I’ve started this year.</span></p>
<p></p>
<p><span style="font-style:italic">TL;DR</span><span>: The </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://github.com/model-railroad/sdb" style="color:inherit;text-decoration:inherit">Software Defined Blocks</a></span><span>&nbsp;project uses an ESP32 with sensors to emulate block activations for a train model railroad.</span></p>
<p></p>
<p><span>The “</span><span style="font-weight:700">Software Defined Blocks</span><span>” project can be described as:</span></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>An embedded processor (ESP32) and sensors (Time-of-Flight sensor, camera).</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>An ability to define blocks, and programmable conditions to trigger block occupancy based on the state of these sensors.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Report of the block occupancy to either a JMRI or MQTT server.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Configuration and state displayed in some way (OLED display, web server).</span></li>
</ul>
<p></p>
<p><span>The project is going to be split in two phases, each with their own MVP.</span></p>
<p></p>
<p><span style="font-weight:700">Phase 1</span><span>: ESP32 + ToF sensor + Wifi + JmriJSON.</span></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>This phase is known to be entirely doable. I expect most of phase 1 will be dedicated to the overall structure I want to achieve for the program. </span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>There are some unknowns (f.ex. how is configuration achieved, how is state reported) but that’s because there are multiple choices, not due to lack of knowledge.</span></li>
</ul>
<p></p>
<p><span style="font-weight:700">Phase 2</span><span>: ESP32-CAM + image analysis (OpenCV or something else).</span></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>This phase is known to be purely experimental.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>The camera analysis part has some obvious challenges -- should I be using OpenCV or duplicate algorithms, can they even achieve what I want, what do I even want, etc. There’s an interesting open research area here, yet overall it should be achievable, and once achieved the stability of the solution remains to be measured.</span></li>
</ul>
<p></p>
<p><span>To be clear, phase 2 is the “interesting” and novel part. It is based on my “Grade Crossing Camera” project from a couple years ago, which I toyed with but never fully finished. So it’s time to reuse what I did last time and finish it.</span></p>
<p><span>However there’s nothing wrong with phase 1 since the goal of that one is to provide a stable and easily reusable foundation.</span></p>
<p></p>
<p><span>The MVP for phase 1 is the Stockton’s </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2018-11-22_more_automated_routes.html" style="color:inherit;text-decoration:inherit">Trolley Automation</a></span><span>&nbsp;as described in 2018.</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:356.19px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_72dab625c51ff3a5a7d9fee3aa0d794abe2f7eddfaff843899ddbeda5d278b4ad.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>The main repository page is </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://github.com/model-railroad/sdb" style="color:inherit;text-decoration:inherit">https://github.com/model-railroad/sdb</a></span><span>.</span></p>
<p></p>
<hr>
<p></p>


</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-01-08_lighting_a_walthers_mainline_790c2d45.html">
    <h2 class="post-title">2023-01-08 - Lighting a Walthers Mainline Dome Coach Car</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    DCC
    
    </span>
</span></div>

<p><span></span></p>
<p></p>
<p><span>Allen has a number of these Walthers Mainline Santa Fe cars, the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.walthers.com/85-budd-large-window-coach-ready-to-run-santa-fe-silver" style="color:inherit;text-decoration:inherit">85' Budd Large-Window Coach Santa Fe (910-30002)</a></span><span>&nbsp;and the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.walthers.com/85-budd-dome-coach-ready-to-run-santa-fe-silver" style="color:inherit;text-decoration:inherit">85’ Budd Dome Coach Santa Fe (910-30402)</a></span><span>:</span></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:170.50px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:575.80px"><img alt="" src="img_9b9e1f1c36bc4be61dcdc1f05fd81da6eb8c35a5f5bc0e016a828461664761c3i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<hr style="display:none;page-break-before:always">
<p></p>
<p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.walthers.com/85-budd-dome-coach-ready-to-run-santa-fe-silver" style="color:inherit;text-decoration:inherit">Walthers Mainline 910-30402</a></span><span style="font-style:italic">&nbsp;85’ Budd Dome Coach Santa Fe</span><span>.</span></p>
<p></p>
<p><span>In this post, we’ll see how to add lighting to that specific dome car, the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.walthers.com/85-budd-dome-coach-ready-to-run-santa-fe-silver" style="color:inherit;text-decoration:inherit">85’ Budd Dome Coach Santa Fe (910-30402)</a></span><span>, to get this result:</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:312.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_c94fb391cc571d571452e9478534ec63e5d630e3e7cb4dbca1ac22fee79bbaa2i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p><span></span></p>

<a href="2023-01-08_lighting_a_walthers_mainline_790c2d45.html">Click here to continue reading...</a>
<p/>
<hr/>
</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-01-02_cab_ride_videos_with_the_mob_a8befb95.html">
    <h2 class="post-title">2023-01-02 - Cab Ride Videos with the Mobius Maxi 4K</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    Video
    
    </span>
</span></div>

<p><span></span></p>
<p></p>
<p><span>I have a fair number of </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.youtube.com/playlist?list=PLjmlvzL_NxLr6EP-oa-RcA6YhSTHtBBFr" style="color:inherit;text-decoration:inherit">“cab ride” videos</a></span><span>&nbsp;on my channel. I particularly enjoy this kind of view. Over the years I’ve been experimenting with various ways to achieve them. This is what I’ve been doing recently:</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:186.67px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_85fe3c03fcf8fc8af80bdee86af60db7c57e26170b6c4f3b184afae4826c678ai.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>The camera I use right now is a </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/2023-01-01_mobius_maxi_4k.html" style="color:inherit;text-decoration:inherit">Mobius Maxi 4K</a></span><span>. All these cameras are designed to be “action cameras”, and record “lifesize” objects, typically outside. When used in-door, image quality tends to be unsaturated, with low contrast. That can be easily adjusted in a video editor like DaVinci Resolve or Lightworks, which I use. </span></p>
<p></p>
<p><span>One prominent issue though is focus. These cameras simply do not have any adjustable focus. They have fixed focus. It’s great when shooting live action inside or outside. It’s a problem when shooting small details on an HO layout. </span></p>
<p></p>
<p><span>In the case of the Mobius v1 or the Mobius Maxi 4K, the minimal focus is about 4 or 5 inches. Anything closer than that will be blurry.</span></p>
<p></p>
<p><span style="font-weight:700">Camera Car</span></p>
<p></p>
<p><span>One thing I did early on is create my own “camera car” custom-fitted to hold the Mobius (v1 or Maxi 4K) securely:</span></p>
<p></p>
<table style="border-collapse:collapse;border-spacing:0;margin-left:auto;margin-right:auto">
 <tbody>
  <tr style="height:21pt">
   <td colspan="2" rowspan="1" style="border-bottom-color:rgb(0, 0, 0);border-bottom-style:solid;border-bottom-width:0pt;border-left-color:rgb(0, 0, 0);border-left-style:solid;border-left-width:0pt;border-right-color:rgb(0, 0, 0);border-right-style:solid;border-right-width:0pt;border-top-color:rgb(0, 0, 0);border-top-style:solid;border-top-width:0pt;vertical-align:top;width:597.6pt"><p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:224.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:793.00px"><img alt="" src="img_946bf0867c9e1a5258a5d70d6a5543a238e1af3033964c4178963484ee58fb7ci.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p></td>
  </tr>
  <tr style="height:0pt">
   <td colspan="1" rowspan="1" style="border-bottom-color:rgb(0, 0, 0);border-bottom-style:solid;border-bottom-width:0pt;border-left-color:rgb(0, 0, 0);border-left-style:solid;border-left-width:0pt;border-right-color:rgb(0, 0, 0);border-right-style:solid;border-right-width:0pt;border-top-color:rgb(0, 0, 0);border-top-style:solid;border-top-width:0pt;vertical-align:top;width:298.8pt"><p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:162.67px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:396.00px"><img alt="" src="img_55c07c6c084e2f17f0beaea641daa526a4f00285e6a63171e098824585e53debi.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p></td>
   <td colspan="1" rowspan="1" style="border-bottom-color:rgb(0, 0, 0);border-bottom-style:solid;border-bottom-width:0pt;border-left-color:rgb(0, 0, 0);border-left-style:solid;border-left-width:0pt;border-right-color:rgb(0, 0, 0);border-right-style:solid;border-right-width:0pt;border-top-color:rgb(0, 0, 0);border-top-style:solid;border-top-width:0pt;vertical-align:top;width:298.8pt"><p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:210.67px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:396.00px"><img alt="" src="img_792aaa911a19f270447138776f73eb5155a676c8dc206e17ccc625c681fbb8e9i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p></td>
  </tr>
 </tbody>
</table>
<p></p>
<p></p>
<p><span>This offers two mounting options:</span></p>
<p><span></span></p>

<a href="2023-01-02_cab_ride_videos_with_the_mob_a8befb95.html">Click here to continue reading...</a>
<p/>
<hr/>
</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-01-01_mobius_maxi_4k.html">
    <h2 class="post-title">2023-01-01 - Mobius Maxi 4K</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    Video
    
    </span>
</span></div>

<p><span></span></p>
<p></p>
<p><span>I’ve done a number of “cab ride” videos at the Randall Museum layout over the last few months using a </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://amzn.to/3wkNceb" style="color:inherit;text-decoration:inherit">Mobius Maxi 4K</a></span><span>&nbsp;camera. Here’s a summary of the pros and cons of this camera, and the setup I use for filming.</span></p>
<p></p>
<p><span>In the past, I’ve done my cab ride videos mostly using a </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://amzn.to/2rGJM2x" style="color:inherit;text-decoration:inherit">Mobius v1 Action Cam</a></span><span>. I’ve also tried the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/2018-04-21_mobius_action_cam_vs_runcam_2.html" style="color:inherit;text-decoration:inherit">Runcam 2</a></span><span>, the &nbsp;</span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://amzn.to/2DXhyt4" style="color:inherit;text-decoration:inherit">SQ12</a></span><span>, and the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/2018-12-09_sq23_mini_camera_for_cab_rides.html" style="color:inherit;text-decoration:inherit">SQ23 camera</a></span><span>, so I’ll compare it to these as well.</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:233.33px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_fb9225fb6a3366d8572927e28deb4b4fbbcbdf73c189fc7385570eeb386ba2f6i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span><span><br></span><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:308.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_d9f67e79e93a81a2cca5127753b30070496484238e1b1b6108a3532748b89f7di.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span><span><br></span><span style="font-style:italic">The Mobius Maxi 4K (left) vs the Mobius v1 (right)</span><span>.</span></p>
<p></p>
<p><span style="font-weight:700">Size</span></p>
<p></p>
<p><span>The Mobius Maxi 4K fits perfectly on an HO-size gondola or flat car, and fits in the NMRA HO gauge with lots of room to spare:</span></p>
<p></p>
<p><span></span></p>

<a href="2023-01-01_mobius_maxi_4k.html">Click here to continue reading...</a>
<p/>
<hr/>
</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2022-10-09_shell_removal_ho_walthers_ma_aaa6a775.html">
    <h2 class="post-title">2022-10-09 - Shell Removal: HO Walthers Mainline SD70ACe</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    
    <a class="post-cat-link" href="../../blog/train" title="View All Category Posts">Train</a>
    </span>
</span></div>

<p></p>
<p><span>I’m preparing two </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2022-10-08_issues_with_the_walthers_mai_53cea6e7.html" style="color:inherit;text-decoration:inherit">new Walthers Mainline SD70ACe</a></span><span>&nbsp;to be the main Passenger Automation engines at the museum. These are </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.walthers.com/emd-sd70ace-esu-r-sound-dcc-union-pacific-r-8330-armour-yellow-gray-red-sill-u-s-flag-high-headlig" style="color:inherit;text-decoration:inherit">Walthers UP #8312 and UP #8330, HO scale</a></span><span>, with ESU LokSound decoders. There’s some kind of drive noise issue out of the box so I need to remove the shell of the engines to investigate.</span></p>
<p></p>
<p><span style="font-weight:700">Removing the Shell on the Walthers Mainline SD70ACe</span></p>
<p></p>
<p><span>That’s an adventure. Well, not quite, because I’ve done similar engines. Walthers is very nice and provides documentation that </span><span style="-webkit-text-decoration-skip:none;text-decoration:line-through;text-decoration-skip-ink:none">clearly</span><span>&nbsp;explains how to do that: remove the couplers, remove 4 screws somewhat tucked under the truck frames, no need to remove the fuel tank. Seems fairly standard procedure.</span></p>
<p></p>
<p><span style="font-weight:700">Removing the couplers</span><span>&nbsp;is easy. Tip: hold the coupler boxes by their sides and it's fairly easy to keep the entire coupler box intact, and neatly put it aside as-is without the whole assembly disintegrating in the process. That was much appreciated.</span></p>
<p></p>
<p><span>Now when the documentation says to </span><span style="font-weight:700">remove the 4 screws under the chassis</span><span>, they meant the 6 screws. There are two on the inside part of the trucks next to the fuel tank, and two by each coupler. In retrospect I think that’s what the doc was trying to say, but it wasn’t super obvious when I read the first time. It’s easier to see it in a picture:</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:328.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_5a92cde360e619662794707cf4bac54e449fcea7a735ffb6914b61e7af078415d.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span style="font-weight:700">Tip</span><span>: Not all the screws are the same head shape or the same length, so store them in a way you remember where each one came from.</span></p>
<p><span></span></p>

<a href="2022-10-09_shell_removal_ho_walthers_ma_aaa6a775.html">Click here to continue reading...</a>
<p/>
<hr/>
</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2022-10-09_an_update_on_the_walthers_ma_49a0f7ec.html">
    <h2 class="post-title">2022-10-09 - An Update on the Walthers Mainline SD70ACe</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    
    <a class="post-cat-link" href="../../blog/train" title="View All Category Posts">Train</a>
    </span>
</span></div>

<p></p>
<p><span>I’m preparing two </span><span>new Walthers Mainline SD70ACe to be the main Passenger Automation engines at the museum. These are </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.walthers.com/emd-sd70ace-esu-r-sound-dcc-union-pacific-r-8330-armour-yellow-gray-red-sill-u-s-flag-high-headlig" style="color:inherit;text-decoration:inherit">Walthers UP #8312 and UP #8330, HO scale</a></span><span>, with ESU </span><span style="-webkit-text-decoration-skip:none;text-decoration:line-through;text-decoration-skip-ink:none">LokSound</span><span>&nbsp;decoders.</span></p>
<p></p>
<p><span>I’ve had some quality surprises with these engines new-out-of-the-box, so I’ll document that here.</span></p>
<p></p>
<p><span>The TL;DR is that I’m sending them back to Walthers and they will fix what are known issues with them.</span></p>
<p></p>
<p style="margin-left:36pt"><span style="font-weight:700">Tip</span><span>: If you have engines of the same run (Walthers Mainline DCC &amp; Sound SD70ACe 910-19865 up to 910-19876), please reach out to Walthers’ customer support. They have been very courteous and helpful in dealing with the issues listed here, so please give them a chance to fix things (assuming you have any issue of course). Walthers </span><span style="font-style:italic">should</span><span>&nbsp;have sent your retailer a note, and your retailers </span><span style="font-style:italic">should</span><span>&nbsp;have contacted you about potential defects in that specific product run. In my case it turns out that there was a gap in that communication pipeline and it never happened so I had to figure most of this myself even before reaching out to their customer support.</span></p>
<p></p>
<p><span>In my case, the affected parts were Walthers Part# 910-19873 and Walthers Part# 910-19874.</span></p>
<p></p>
<p><span style="font-weight:700">Out of the Box</span></p>
<p></p>
<p><span>Disappointedly, out of the box, the engines already clearly showed issues that would require some work:</span></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>The nose numbers plates were loose in the box. Needs to be glued.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>One of the engines’ front snow plow was also loose in the box. The other one was still attached.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>The ditch lights have unequal intensity.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>They make a weird noise when running… something’s definitely very wrong in the rear truck.</span></li>
</ul>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:369.33px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_c2bc51857fca26d96deef577f5527b16482534efc112b5856f220b5e9ca03faei.jpg" style="height:483.13px;margin-left:0.00px;margin-top:-48.91px" title=""></span><span><br></span><span style="font-style:italic">UP 8312 and UP 8330 came with a snowplow and the number plates fallen in the box.</span></p>
<p></p>
<p></p>
<p><span>Let’s discuss this below.</span></p>
<p><span></span></p>

<a href="2022-10-09_an_update_on_the_walthers_ma_49a0f7ec.html">Click here to continue reading...</a>
<p/>
<hr/>
</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2022-08-03_conductor_2_an_update_on_imp_dbef7ce8.html">
    <h2 class="post-title">2022-08-03 - Conductor 2: An Update on Implementation</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    Rtac
    
    </span>
</span></div>

<p><span></span></p>
<p></p>
<p><span>Although I haven’t posted anything here lately, I’ve spent most of the summer time completing the implementation of the engine for </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/rtac" style="color:inherit;text-decoration:inherit">Conductor 2</a></span><span>. The new kotlin engine is working well, with a suitable battery of unit tests, and I have a functional simulator to exercise the engine before I try it at the museum. I also converted the latest Conductor 1 script to the new Conductor 2 DSL. It’s all in the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://github.com/model-railroad/conductor/tree/dev" style="color:inherit;text-decoration:inherit">git repo under the dev branch</a></span><span>:</span></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://github.com/model-railroad/conductor/tree/main/jmri/conductor/engine2k/src" style="color:inherit;text-decoration:inherit">conductor/engine2k/src</a></span><span>: The new Kotlin-scripting based engine.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://github.com/model-railroad/conductor/tree/main/jmri/conductor/simul2k/src" style="color:inherit;text-decoration:inherit">conductor/simul2k/src</a></span><span>: The new simulator.</span></li>
</ul>
<p><span>We can compare the Conductor 1 vs Conductor 2 scripts right here:</span></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://github.com/model-railroad/conductor/blob/main/jmri/conductor/src/test/resources/v2/script_v47_8749%2B1072%2BBL4070.txt" style="color:inherit;text-decoration:inherit">script_v4.txt</a></span><span>: Script v47 using Conductor 1 ANTLR-based language.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://github.com/model-railroad/conductor/blob/main/jmri/conductor/engine2k/src/main/resources/v2/script/script_v10.02.conductor.kts" style="color:inherit;text-decoration:inherit">script_v47_v2.conductor.kts</a></span><span>: Script v47 using Conductor Kotlin-based language.</span></li>
</ul>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:528.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_abe1a07d11e15556037eeb049ea18a730b2f96e11ea318f80027613d528cb846i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p><span></span></p>

<a href="2022-08-03_conductor_2_an_update_on_imp_dbef7ce8.html">Click here to continue reading...</a>
<p/>
<hr/>
</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2022-04-26_conductor_2_route_sequence_g_361ba15e.html">
    <h2 class="post-title">2022-04-26 - Conductor 2: Route sequence graph in Kotlin DSL</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    Rtac
    
    </span>
</span></div>

<p><span></span></p>
<p></p>
<p><span>Going to change the way a route sequence graph is defined in </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/rtac" style="color:inherit;text-decoration:inherit">Conductor 2</a></span><span>&nbsp;from:</span></p>
<p style="margin-left:36pt" class="console "><span style="font-family:&quot;Consolas&quot;;font-size:10pt">nodes = listOf(</span></p>
<p style="margin-left:36pt" class="console "><span style="font-family:&quot;Consolas&quot;;font-size:10pt">&nbsp; &nbsp; listOf(B311_start, B321_fwd, B311_rev),</span></p>
<p style="margin-left:36pt" class="console "><span style="font-family:&quot;Consolas&quot;;font-size:10pt">&nbsp; &nbsp; listOf(B321_fwd, B330_fwd, B321_rev, B311_rev),</span></p>
<p style="margin-left:36pt" class="console "><span style="font-family:&quot;Consolas&quot;;font-size:10pt">)</span></p>
<p><span>to:</span></p>
<p style="margin-left:36pt" class="console "><span style="font-family:&quot;Consolas&quot;;font-size:10pt">nodes = listOf(B311_start, B321_fwd, B311_rev)</span></p>
<p style="margin-left:36pt" class="console "><span style="font-family:&quot;Consolas&quot;;font-size:10pt">branches += listOf(B321_fwd, B330_fwd, B321_rev, B311_rev)</span></p>
<p style="text-align:left"><span></span></p>

<a href="2022-04-26_conductor_2_route_sequence_g_361ba15e.html">Click here to continue reading...</a>
<p/>
<hr/>
</div>





<div class="prev-next-container">

    <span class="prev-page"><a href="0003.html">⇐ Newer Posts</a><br/></span>
    <span class="next-page"><a href="0005.html">Older Posts ⇒</a><br/></span>


</div>

</div> <!-- container -->
</div> <!-- main -->

<div class="sharethis-inline-share-buttons"></div>

<div class="bottom-container">&nbsp;Generated on 2025-09-05 by Rig4j 0.1-Exp-05cc7b2&nbsp;</div>

</main>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-M1KDMEFC4D"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M1KDMEFC4D');
</script>

</body>
</html>

