<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport"    content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author"      content="">

<link href="atom.xml" type="application/atom+xml" rel="alternate" title="Atom feed for Blog: Randall Museum Model Railroad" />

<meta property="og:url"         content="https://www.alfray.com/trains/blog/randall/2018-11-22_more_automated_routes.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="More Automated Routes" />

<meta property="og:description" content="Based on last week's experimentation at Randall, here are a few more ideas of automated routes, with a focus on what would be needed to make them happen. To be clear, none of this will happen any time soon, or even at all." />
<meta property="og:image"       content="https://www.alfray.com/trains/blog/randall/img_042ffa28a46588b3ba9b13e20fd713279d0ac9b10c9f151e401f74cb4d12e8efi.jpg" />

<meta name="twitter:card"        content="summary" />
<!-- meta name="twitter:site"    content="@flickr" / -->
<meta name="twitter:title"       content="More Automated Routes" />

<meta name="twitter:description" content="Based on last week's experimentation at Randall, here are a few more ideas of automated routes, with a focus on what would be needed to make them happen. To be clear, none of this will happen any time soon, or even at all." />
<meta name="twitter:image"       content="https://www.alfray.com/trains/blog/randall/img_042ffa28a46588b3ba9b13e20fd713279d0ac9b10c9f151e401f74cb4d12e8efi.jpg" />

<title>Blog: Randall Museum Model Railroad</title>

<script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5c66171070e9220011ed1c61&product=inline-share-buttons" async="async"></script>

<!-- Custom styles for this template -->
<style type="text/css">
body {
    font-family: sans-serif;
    margin: 0;
}

.main {
    margin: 8px;
}

p, span {
    line-height: 1.2;
    text-align: justify;
}

p.console {
    margin: 0;
    padding: 0;
}

.container {
    max-width: 95%;
}

@media screen and (min-width: 600px) {
    .container {
        max-width: 60rem;
    }
}

.center-horiz {
    margin: auto;
}

.no-margin-container {
}

/* Header + Title */
.blog-header {
  margin-bottom: 3rem;
  background-color: #428bca;
  box-shadow: inset 0 -.1rem .25rem rgba(0,0,0,.1);
}


.banner-bg-image {
    height: 50px;
    background-image: url("header.jpg");
    background-position: center;
    background-size: 100% auto;
}

@media screen and (min-width: 600px) {
    .banner-bg-image {
        height: 200px;
    }
}


.title-container {
    color: #fff;
    padding: 1rem;
    line-height: 1.5;
    font-weight: 500;
    font-size: 24px;
    font-family: sans-serif;
}

.title-container a {
    color: #fff;
    text-decoration: none;
}

.post-container {
}

.bottom-container {
    margin-top: 8px;
    color: #fff;
    background-color: #428bca;
    font-family: sans-serif;
    text-align: center;
    font-size: small;
    line-height: 1rem;
}

@media screen and (min-width: 600px) {
    .bottom-container {
        font-size: x-small;
    }
}

.post-title-container {
    position: relative;
    background-color: #428bca;
    padding: 0.5rem;
}

.post-title {
    display: inline;
    color: #fff;
    font-weight: 500;
    font-family: sans-serif;
    font-size: 1.5em;
}

a.post-title-link {
    color: #fff;
    text-decoration: none;
}

.post-cat {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    padding: 0.25rem;
    background-color: #d0e0e3;
    color: #000;
    font-weight: 500;
    font-family: sans-serif;
    font-size: 1.5em;
}

a.post-cat-link {
    color: #000;
    text-decoration: none;
}

.post-cat-label {
    display: block;
    text-align: right;
    color: #000;
    font-size: 0.4em;
}

.prev-next-container {
    overflow: auto;
}

.prev-page {
    float: left;
    line-height: 2em;
}

.next-page {
    float: right;
    line-height: 2em;
}

h1, h2, h3, h4, h5, h6 {
    font-family: sans-serif;
    font-weight: bold;
}

.text-hide {
    font: 0/0 a;
    color: transparent;
    text-shadow: none;
    background-color: transparent;
    border: 0;
}

td p {
    margin: 0;
}


</style>
</head>

<body>

<header class="blog-header">

    <div class="no-margin-container banner-bg-image text-hide">
        Site Banner Image
    </div>

    <div class="title-container">
        <a href="https://www.alfray.com/trains/">Ralf's Train Pages</a>
        
        /
        <a href="0015.html">Blog: Randall Museum Model Railroad</a>
        
    </div>
</header>

<main role="main">
<div class="main">
<div class="container center-horiz">

<p><span> </span></p>
<p><span></span></p>
<p><span> </span></p>
<table style="border-collapse:collapse;border-spacing:0;margin-left:auto;margin-right:auto">
 <tbody>
  <tr style="height:0pt">
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/index.html" style="color:inherit;text-decoration:inherit">Introduction</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/" style="color:inherit;text-decoration:inherit">Blog &amp; News</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/about.html" style="color:inherit;text-decoration:inherit">About the Model Railroad</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/rtac.html" style="color:inherit;text-decoration:inherit">RTAC Software</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/videos.html" style="color:inherit;text-decoration:inherit">Videos</a></span></p></td>
  </tr>
 </tbody>
</table>
<p></p>
<p><span style="font-style:italic">The Randall Museum in San Francisco hosts a large HO-scale model railroad. Created by the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="http://www.ggmrc.org" style="color:inherit;text-decoration:inherit">Golden Gate Model Railroad Club</a></span><span style="font-style:italic">&nbsp;starting in 1961, the layout was donated to the Museum in 2015. Since then I have started automatizing trains running on the layout. I am also the model railroad maintainer. </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/" style="color:inherit;text-decoration:inherit">This blog</a></span><span style="font-style:italic">&nbsp;describes various updates on the Randall project and I maintain a separate </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/" style="color:inherit;text-decoration:inherit">blog for all my electronics</a></span><span style="font-style:italic">&nbsp;not directly related to Randall. </span><span></span></p>

<div class="prev-next-container">


    <span class="prev-page"><a href="2018-12-12_randall_repairs_turnout_t161_1st_fix_.html">⇐ Newer Post</a><br/></span>
    <span class="next-page"><a href="2018-11-13_new_power_coming_soon.html">Older Post ⇒</a><br/></span>

</div>


    <div class="post-container">
    <div class="post-title-container"><h2 class="post-title">2018-11-22 - More Automated Routes</h2>
    <span class="post-cat" title="Category">
            <span class="post-cat-label">Category</span>
            <span class="post-cat-text">Randall</span>
    </span>
    </div>


    <p></p>
<p><span>Based on last week's experimentation at Randall, here are a few more ideas of automated routes, with a focus on what would be needed to make them happen. To be clear, none of this will happen any time soon, or even at all. </span></p>
<h3 id="h.8cq7i7pq2oj1" style="line-height:1.15;padding-bottom:4pt;padding-top:16pt;page-break-after:avoid"><span style="color:rgb(67, 67, 67);font-size:14pt">1- Trolley</span></h3>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:268.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_042ffa28a46588b3ba9b13e20fd713279d0ac9b10c9f151e401f74cb4d12e8efi.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>Jim got this little trolley a while -- it </span><span>is the </span><span style="font-style:italic">Atlantic City</span><span>&nbsp;from</span><span>&nbsp;</span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="http://www.bowser-trains.com/history/streetcarnohistory.html" style="color:inherit;text-decoration:inherit">Bowser streetcar</a></span><span>.</span><span>&nbsp;We’re not using it yet and I can see two automation options:</span></p>
<p><span></span></p>
<p></p>
<p></p>
<p><span style="font-weight:700">A- On the small spur of the SIA that is directly behind the stockton “city”</span><span>. Technically that spur was probably created to serve “local industries” and the end of the line ends up inside some kind of industrial building. However it’s right behind the city, and viewed from the front could be an interesting visual option seeing the trolley going back and forth behind the buildings.</span></p>
<p></p>
<p><span>Also interesting that this spur is typically not used and pretty much isolated so it can be dedicated to this purpose only.</span></p>
<p></p>
<p><span>Requirements:</span></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Some kind of way to detect both ends / or location of the trolley on the spur. E.g. camera, reflective IR (side mounted or on end bumper could work there, see warning note at the end), or create additional blocks (cut 1 rail, add feeder + BD20, one each end).</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Add end bumpers if not present as there is no “overshoot” space.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Bumpers can be mixed with a contact or a reflective IR detector, so they both act as stoppers too.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Optional: DCC turnout control/interlock to prevent it from being thrown.</span></li>
</ul>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:322.32px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_ac57b51a11dee4842588378ee93244b5ff375473b76ecd0519efde3e6701fe12d.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span style="font-weight:700">B- A longer trolley path from the SIA/branchline main track</span><span>, for example from the SIA/DFS/RH junction up to the branchline tunnel.</span></p>
<p></p>
<p><span>One nice thing about it is having a train “hide” in the branchline tunnel and regularly emerge via the little bridge. That adds some nice variety.</span></p>
<p></p>
<p><span>Requirements / issues:</span></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>This is a potentially usable path, so a way to stop &amp; park the automation out of the way is needed.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>This route crosses several booster boundaries. Notably it triggers the branchline reverser, which may or may not have an impact on the BL automation.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Momentum + current keeper needed to ensure the train goes through the blocks properly.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Block detectors could likely be used here: one in the tunnel, two on the SIA side (one stop block + one overshoot block).</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Optional: DCC turnout control/interlock.</span></li>
</ul>
<p></p>
<table style="border-collapse:collapse;border-spacing:0;margin-left:auto;margin-right:auto">
 <tbody>
  <tr style="height:0pt">
   <td colspan="1" rowspan="1" style="border-bottom-color:rgb(0, 0, 0);border-bottom-style:solid;border-bottom-width:0pt;border-left-color:rgb(0, 0, 0);border-left-style:solid;border-left-width:0pt;border-right-color:rgb(0, 0, 0);border-right-style:solid;border-right-width:0pt;border-top-color:rgb(0, 0, 0);border-top-style:solid;border-top-width:0pt;vertical-align:middle;width:298.8pt"><p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:245.50px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:396.00px"><img alt="" src="img_51d93cc06a0408b7a912bc891a18f48cb8b3dfc628d255d81467f55f3a683e5bi.jpg" style="height:285.00px;margin-left:0.00px;margin-top:0.00px" title=""></span></p></td>
   <td colspan="1" rowspan="1" style="border-bottom-color:rgb(0, 0, 0);border-bottom-style:solid;border-bottom-width:0pt;border-left-color:rgb(0, 0, 0);border-left-style:solid;border-left-width:0pt;border-right-color:rgb(0, 0, 0);border-right-style:solid;border-right-width:0pt;border-top-color:rgb(0, 0, 0);border-top-style:solid;border-top-width:0pt;vertical-align:middle;width:298.8pt"><p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:242.67px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:396.00px"><img alt="" src="img_dd0b33f081cd2ad9816f5234be2af27863e3a1cccc6bb2ae115dc4d6980d635fi.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p></td>
  </tr>
 </tbody>
</table>
<p></p>
<p><span style="font-weight:700">C- A mix of A &amp; B</span><span>. A train could emerge from the branchline tunnel, cross the SIA, enter the spur next to the city and end up under that industrial building.</span></p>
<p></p>
<p><span>Option A is the easiest of the 3 to implement. Option B could be a different automation in its own with a short freight train coming out of the branchline tunnel and stopping in the DFS or SIA yards.</span></p>
<p></p>
<h3 id="h.qhbwe05e92w0" style="line-height:1.15;padding-bottom:4pt;padding-top:16pt;page-break-after:avoid"><span style="color:rgb(67, 67, 67);font-size:14pt">2- Switcher in SIA</span></h3>
<p></p>
<p><span>The SIA has all these yard tracks which are mostly unused. A “simple” idea is to have 1 or 2 switchers with attached freight cars. Switchers can pull out of a yard track into a spur/interchange, then push back into another yard track. Even more interesting with 2 switchers.</span></p>
<p></p>
<p><span>A couple years ago, I wanted to do an automated </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://en.wikipedia.org/wiki/Inglenook_Sidings" style="color:inherit;text-decoration:inherit">Inglenook Sidings</a></span><span>&nbsp;puzzle solver (with, </span><span style="font-style:italic">ahem</span><span>, OpenCV and camera detection of the cars &amp; their location). At the same time Jim wanted an automation with a switcher automatically shuttling freight cars. </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/arduino_nce.html" style="color:inherit;text-decoration:inherit">I actually started building one</a></span><span>&nbsp;at home and I put the project aside as I got busy with Randall’s more mundane tasks</span><span>. However here I would put Jim’s idea of coupling/uncoupling freight cars automatically aside as it proved unreliable or at least extremely finicky, and that’s not something I want for daily automation. Instead we can have for example 2 switchers with 2-3 freight cars each, in a fixed setup. The program could randomize which train leaves a yard track and which yard track it goes into. If that can be made reliable enough, I’d totally give another look at the automatic coupling issue (actually “uncoupling” reliably on magnets was the actual hard part).</span></p>
<p></p>
<p><span>The engines would be “pushing” the freight cars into the yard tracks. This means we can use an electrical block detector on the yard track feeder to know when the engine is there. We do have to make sure the engine clears the turnout.</span></p>
<p></p>
<p><span>When pulling into the spur/interchange track, the engine would be leading. Here we need more than just block detection, we need point detection. We can use something like a side-mounted reflective IR to know when to stop the engine at the end of the spur, but in this case we need to take into account the warning about the polling speed impact on the IR sensors.</span></p>
<p></p>
<p><span>Requirements:</span></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Ability to stop the automation.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Block detectors for each yard track. Since the engines would likely be pushing the freight </span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Detector for end of spur/interchange. E.g. reflective IR.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Required turnout control for each yard track. Here these are twin-coils, so an NCE Q-Snap (4 turnouts) would be needed.</span></li>
</ul>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:257.33px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_9b89a07bdf531ffdd3c47c3eef3cf4326a8a5ec080ccc707196e58c3e7d9f27fi.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<h3 id="h.73wwj15dyuwp" style="line-height:1.15;padding-bottom:4pt;padding-top:16pt;page-break-after:avoid"><span style="color:rgb(67, 67, 67);font-size:14pt">3- Switcher in DFS yard</span></h3>
<p></p>
<p><span>A similar automation could be done in the DFS yard. It has 3 tracks, however it is long enough and far away enough that a train moving from one track to the other would not offer enough visual difference to be noticeable from the public point of view, and that’s a primordial factor. In that case a simpler automation and similar to case 1-A above is to have a train hide in the branchline tunnel, come out of it, and stop in the DFS yard.</span></p>
<p></p>
<p><span>Requirements:</span></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Ability to stop the automation.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Block detectors for one yard track (should probably wire them all if possible).</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Block detector to stop in the branchline tunnel.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Optional: Block detectors for segments in between (to track progress).</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Required turnout control to enter that yard track (at least one Tortoise turnout if using the first DFS track).</span></li>
</ul>
<p></p>
<h3 id="h.dydfvitgbt3c" style="line-height:1.15;padding-bottom:4pt;padding-top:16pt;page-break-after:avoid"><span style="color:rgb(67, 67, 67);font-size:14pt">A note on the limitation of sensors</span></h3>
<p></p>
<p><span>In this kind of automation, time response becomes critical. </span></p>
<p></p>
<p><span>The current NCE AIU01 setup does not offer a very timely response time as the NCE cab bus sampling rate seems rather appalling. With this, we can expect response times in seconds. The Conductor software operates at 30 Hz but it can only act once it got a sensor input. </span></p>
<p></p>
<p><span>This has a direct impact on the design, e.g. if either a BD20 or IR is connected to an AIU01, it needs to stay on long enough for it to trigger the Conductor condition. At slow speed the BD20 can “flicker” and always be sampled as unoccupied. The IR sensor may not trigger long enough to be polled as occupied by the AIU01 either. </span></p>
<p></p>
<p><span>I had a similar issue with the green activation buttons connected to the AIU01 at first. Short pushes of the buttons were sometimes undetected. In that case the solution was to add a resistor + capacitor to the button, taking advantage of the pull-up nature of the AIU01 input.</span></p>
<p></p>
<p><span>The IR case can be solved by external circuitry -- e.g. an NE555 added to the IR sensor to make sure it stays on long enough to be detected. The trick with the capacitor is not enough with the IR sensor as its logic is inverted.</span></p>
<p></p>
<p><span>Another option is to bypass the NCE cab bus altogether. For example a Digitrax Loconet should not have the sample rate issue of the NCE cab bus [citation needed].</span></p>
<p></p>
<p><span>Another option is to use an arduino to drive the IR sensors, with either ethernet wired or wifi. In this case, we can reverse the mechanism -- instead of Conductor polling the sensor, we can directly have the arduino set virtual sensors in JMRI via the JSON server. I did not want to use this on the mainline automation as it means one more component that can fail for the main automation, nor did I want it to rely too much on “DIY” custom-made hardware. However these are secondary automations, fairly isolated. It is more acceptable for them to be offline for longer times if they fail.</span></p>
<p></p>
<p><span>Another option is to not use physical sensors at all and rely on camera vision -- notably IR cameras to be able to deal with variations in ambient light -- or structured-light sensors. The problem with this approach is the field of view available, based on camera placement. For example the spur described for the trolley in (1)-A could be covered by one camera, but placement would need to be very specific on the ceiling at a specific angle to detect the trolley under the covered building, et also avoid potential operators using the RH or SIA obscuring the view. Another camera could cover the SIA yard described in (2) for the switcher, but may not cover the spur needed to interchange between tracks. For a longer route like the long DFS yard and the branchline tunnel, camera options do not seem very practical.</span></p>
<p></p>
<hr>
<p></p>


    </div>



<div class="prev-next-container">


    <span class="prev-page"><a href="2018-12-12_randall_repairs_turnout_t161_1st_fix_.html">⇐ Newer Post</a><br/></span>
    <span class="next-page"><a href="2018-11-13_new_power_coming_soon.html">Older Post ⇒</a><br/></span>

</div>

</div> <!-- container -->
</div> <!-- main -->

<div class="sharethis-inline-share-buttons"></div>

<div class="bottom-container">&nbsp;Generated on 2025-09-02 by Rig4j 0.1-Exp-05cc7b2&nbsp;</div>

</main>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-M1KDMEFC4D"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M1KDMEFC4D');
</script>

</body>
</html>

