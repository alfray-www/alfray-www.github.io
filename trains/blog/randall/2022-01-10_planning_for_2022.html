<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport"    content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author"      content="">

<link href="atom.xml" type="application/atom+xml" rel="alternate" title="Atom feed for Blog: Randall Museum Model Railroad" />

<meta property="og:url"         content="https://www.alfray.com/trains/blog/randall/2022-01-10_planning_for_2022.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Planning for 2022" />

<meta property="og:description" content="This year I’d like my projects to enhance the automation. There are two automation additions I want to get to, namely Fairfield&nbsp;and the Trolley line; however I realize these require a lot of research &amp; preparation work that is mostly software and, if I go there, it will be yet another 6-9 months with nothing tangible for others to actually see." />
<meta property="og:image"       content="https://www.alfray.com/trains/blog/randall/img_d9b412b41bc649015d5d01393c51aded4b9d0d2691c32d5969561611508e8c50i.png" />

<meta name="twitter:card"        content="summary" />
<!-- meta name="twitter:site"    content="@flickr" / -->
<meta name="twitter:title"       content="Planning for 2022" />

<meta name="twitter:description" content="This year I’d like my projects to enhance the automation. There are two automation additions I want to get to, namely Fairfield&nbsp;and the Trolley line; however I realize these require a lot of research &amp; preparation work that is mostly software and, if I go there, it will be yet another 6-9 months with nothing tangible for others to actually see." />
<meta name="twitter:image"       content="https://www.alfray.com/trains/blog/randall/img_d9b412b41bc649015d5d01393c51aded4b9d0d2691c32d5969561611508e8c50i.png" />

<title>Blog: Randall Museum Model Railroad</title>

<script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5c66171070e9220011ed1c61&product=inline-share-buttons" async="async"></script>

<!-- Custom styles for this template -->
<style type="text/css">
body {
    font-family: sans-serif;
    margin: 0;
}

.main {
    margin: 8px;
}

p, span {
    line-height: 1.2;
    text-align: justify;
}

p.console {
    margin: 0;
    padding: 0;
}

.container {
    max-width: 95%;
}

@media screen and (min-width: 600px) {
    .container {
        max-width: 60rem;
    }
}

.center-horiz {
    margin: auto;
}

.no-margin-container {
}

/* Header + Title */
.blog-header {
  margin-bottom: 3rem;
  background-color: #428bca;
  box-shadow: inset 0 -.1rem .25rem rgba(0,0,0,.1);
}


.banner-bg-image {
    height: 50px;
    background-image: url("header.jpg");
    background-position: center;
    background-size: 100% auto;
}

@media screen and (min-width: 600px) {
    .banner-bg-image {
        height: 200px;
    }
}


.title-container {
    color: #fff;
    padding: 1rem;
    line-height: 1.5;
    font-weight: 500;
    font-size: 24px;
    font-family: sans-serif;
}

.title-container a {
    color: #fff;
    text-decoration: none;
}

.post-container {
}

.bottom-container {
    margin-top: 8px;
    color: #fff;
    background-color: #428bca;
    font-family: sans-serif;
    text-align: center;
    font-size: small;
    line-height: 1rem;
}

@media screen and (min-width: 600px) {
    .bottom-container {
        font-size: x-small;
    }
}

.post-title-container {
    position: relative;
    background-color: #428bca;
    padding: 0.5rem;
}

.post-title {
    display: inline;
    color: #fff;
    font-weight: 500;
    font-family: sans-serif;
    font-size: 1.5em;
}

a.post-title-link {
    color: #fff;
    text-decoration: none;
}

.post-cat {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    padding: 0.25rem;
    background-color: #d0e0e3;
    color: #000;
    font-weight: 500;
    font-family: sans-serif;
    font-size: 1.5em;
}

a.post-cat-link {
    color: #000;
    text-decoration: none;
}

.post-cat-label {
    display: block;
    text-align: right;
    color: #000;
    font-size: 0.4em;
}

.prev-next-container {
    overflow: auto;
}

.prev-page {
    float: left;
    line-height: 2em;
}

.next-page {
    float: right;
    line-height: 2em;
}

h1, h2, h3, h4, h5, h6 {
    font-family: sans-serif;
    font-weight: bold;
}

.text-hide {
    font: 0/0 a;
    color: transparent;
    text-shadow: none;
    background-color: transparent;
    border: 0;
}

td p {
    margin: 0;
}


</style>
</head>

<body>

<header class="blog-header">

    <div class="no-margin-container banner-bg-image text-hide">
        Site Banner Image
    </div>

    <div class="title-container">
        <a href="https://www.alfray.com/trains/">Ralf's Train Pages</a>
        
        /
        <a href="000b.html">Blog: Randall Museum Model Railroad</a>
        
    </div>
</header>

<main role="main">
<div class="main">
<div class="container center-horiz">

<p><span> </span></p>
<p><span></span></p>
<p><span> </span></p>
<table style="border-collapse:collapse;border-spacing:0;margin-left:auto;margin-right:auto">
 <tbody>
  <tr style="height:0pt">
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/index.html" style="color:inherit;text-decoration:inherit">Introduction</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/" style="color:inherit;text-decoration:inherit">Blog &amp; News</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/about.html" style="color:inherit;text-decoration:inherit">About the Model Railroad</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/rtac.html" style="color:inherit;text-decoration:inherit">RTAC Software</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/videos.html" style="color:inherit;text-decoration:inherit">Videos</a></span></p></td>
  </tr>
 </tbody>
</table>
<p></p>
<p><span style="font-style:italic">The Randall Museum in San Francisco hosts a large HO-scale model railroad. Created by the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="http://www.ggmrc.org" style="color:inherit;text-decoration:inherit">Golden Gate Model Railroad Club</a></span><span style="font-style:italic">&nbsp;starting in 1961, the layout was donated to the Museum in 2015. Since then I have started automatizing trains running on the layout. I am also the model railroad maintainer. </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/" style="color:inherit;text-decoration:inherit">This blog</a></span><span style="font-style:italic">&nbsp;describes various updates on the Randall project and I maintain a separate </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/" style="color:inherit;text-decoration:inherit">blog for all my electronics</a></span><span style="font-style:italic">&nbsp;not directly related to Randall. </span><span></span></p>

<div class="prev-next-container">


    <span class="prev-page"><a href="2022-01-11_train_vision_detection_and_p_136b337d.html">⇐ Newer Post</a><br/></span>
    <span class="next-page"><a href="2022-01-08_documentation_update_and_a_t_047ce9f2.html">Older Post ⇒</a><br/></span>

</div>


    <div class="post-container">
    <div class="post-title-container"><h2 class="post-title">2022-01-10 - Planning for 2022</h2>
    <span class="post-cat" title="Category">
            <span class="post-cat-label">Category</span>
            <span class="post-cat-text">Randall</span>
    </span>
    </div>


    <p></p>
<p><span>This year I’d like my projects to enhance the automation. There are two automation additions I want to get to, namely </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/about.html#h.dcct9cs2zllo" style="color:inherit;text-decoration:inherit">Fairfield</a></span><span>&nbsp;and the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2018-11-22_more_automated_routes.html" style="color:inherit;text-decoration:inherit">Trolley line</a></span><span>; however I realize these require a lot of research &amp; preparation work that is mostly software and, if I go there, it will be yet another 6-9 months with nothing tangible for others to actually see.</span></p>
<p></p>
<p><span>So instead I’d like to focus on enhancing the variety of the current automation. </span></p>
<p></p>
<p><span style="font-weight:700">1- Branchline Automation</span></p>
<p></p>
<p><span>We currently have a single engine running, and we park it on the B811/B801 storage track. However the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/about.html#h.frbaeoqrvbt" style="color:inherit;text-decoration:inherit">track &amp; panel</a></span><span>&nbsp;supports 3 storage tracks.</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:154.67px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_d9b412b41bc649015d5d01393c51aded4b9d0d2691c32d5969561611508e8c50i.png" style="margin-left:0.00px;margin-top:0.00px" title=""></span><span><br></span><span style="font-size:10pt;font-style:italic">Branchline/Mainline Track Diagram (blue is mainline, green is branchline)</span><span style="font-style:italic">.</span></p>
<p></p>
<p><span></span></p>
<p><span>The “easy” least amount of effort is to use the 2nd storage track (B812/B802) to have a second engine available and alternate running with 2 engines. This mirrors how the mainline alternates with 2 engines. It can give us more reliability (each engine only works twice less), and variety. </span></p>
<p><span>On the hardware side, this requires control for turnout T810, so just one turnout. And we need 2 more blocks to monitor, B812 and B802 (or maybe just one if the turnout leads are not isolated).</span></p>
<p><span>The risk is fairly low. These are not significant hardware changes to add 2 block sensors and one turnout control. I have the hardware for it available. The real risk is that the track can be uneven at that location and finding engines that can reliably navigate it may not be obvious.</span></p>
<p><span>The reward is also fairly low, from a visitor’s standpoint. The current Branchline is ignored by a lot of people and provides minimum interest. It surely is a lot less impressive than running on the mainline. OTOH maybe having 2 engines alternating there would bring it a bit more interest.</span></p>
<p></p>
<p><span>A later phase to that would be to support the 3rd track, which requires turnout T820 and sensors for B813 and B803. I would likely wire them all at the same time even if I don’t use the 3rd track yet. That 3rd track is dual gauge, and these dual gauge turnouts are imho tricky and may be prone to derailment.</span></p>
<p><span>One it of complexity would be due to the fact the Tortoise turnout motors are not wired using the typical DC power bus; instead they use an older AC power bus and the Tortoises are wired using the “</span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/about.html#h.frbaeoqrvbt" style="color:inherit;text-decoration:inherit">AC with steering diodes</a></span><span>” principle.</span></p>
<p></p>
<p><span>Previously I wanted to use turnout T830 for variety. I quickly gave up on this after noticing the turnout point is broken and I do not know how to fix it.</span></p>
<p></p>
<p><span style="font-weight:700">2- Mainline Automation</span></p>
<p></p>
<p><span>The mainline automation has 2 engines alternating. One is currently parked on the mainline’s siding by the station. The other engine is in the track #3 in the station, where it should be.</span></p>
<p><span>The change here would be to be able to use either the 2nd station track or the 3 tracks. That requires controlling 1 or 2 turnouts, and having at least 2~4 more block sensors.</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:188.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:797.00px"><img alt="" src="img_376149659ffdb63081653777a9c9636621627d7e4f20f77e2a28bb0b0ce59f6ci.jpg" style="height:287.00px;margin-left:0.00px;margin-top:-99.00px" title=""></span></p>
<p></p>
<p><span>The end goal here would be that both automation trains would be parked in the station tracks properly, instead of having one on the mainline. The immediate reward is easier running for Saturday Operators. There would not be any significant change to the visitor’s experience as they would still see alternative trains/engines running on essentially the same route.</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:223.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:738.00px"><img alt="" src="img_8f495268084ab8381a490337f602bb78e4f5e5dfb0329ce91cf9ea998ad93b7di.png" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>The risk/reward here is also low since adding new turnout control or block detection would not affect the current mode of operation. The risk is also that we don’t know if the turnouts or track is reliable for repeated automation usage; the only way to know is to power it and try it.</span></p>
<p></p>
<p><span>As far as phases go, we already have block detection for B503a/b. We need at least B502a/b, and I suggest in that case we might as well go all the way and support B504, B501/2/3a/b/c. For turnouts, the minimum needed is T503, yet while in there, I’d just add control for T503, T502, T501, and the other sides T512 and T513.</span></p>
<p></p>
<p><span style="font-weight:700">3- Scripting Complexity</span></p>
<p></p>
<p><span>While some folks only focus on the tangible side, I try to also factor in the software side upfront. And here it is not too daunting, yet it’s non negligible.</span></p>
<p><span>The </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://bitbucket.org/model-railroad/conductor/src/master/jmri/conductor/src/test/resources/v2/script_v45_8749%2B1072%2BBL191.txt" style="color:inherit;text-decoration:inherit">current automation script</a></span><span>&nbsp;is fairly linear and about 900 lines long. There’s one block of actions per engine running, and we currently support 3 of them. We would then support at least 4 (2 branchline + 2 mainline), or up to 6 (3 branchline + 3 mainline). The effort is however manageable as each train route is fully isolated and independent.</span></p>
<p><span>There is a bit of “glue” in the script to account for alternating between engines. That is fairly generic and easy to extend.</span></p>
<p></p>
<p></p>
<hr>
<p></p>


    </div>



<div class="prev-next-container">


    <span class="prev-page"><a href="2022-01-11_train_vision_detection_and_p_136b337d.html">⇐ Newer Post</a><br/></span>
    <span class="next-page"><a href="2022-01-08_documentation_update_and_a_t_047ce9f2.html">Older Post ⇒</a><br/></span>

</div>

</div> <!-- container -->
</div> <!-- main -->

<div class="sharethis-inline-share-buttons"></div>

<div class="bottom-container">&nbsp;Generated on 2025-09-04 by Rig4j 0.1-Exp-05cc7b2&nbsp;</div>

</main>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-M1KDMEFC4D"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M1KDMEFC4D');
</script>

</body>
</html>

