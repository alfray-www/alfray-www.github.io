<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport"    content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author"      content="">

<link href="atom.xml" type="application/atom+xml" rel="alternate" title="Atom feed for Blog: Randall Museum Model Railroad" />

<meta property="og:url"         content="https://www.alfray.com/trains/blog/randall/0005.html" />
<meta property="og:type"        content="article" />

<meta property="og:title"       content="Blog: Randall Museum Model Railroad" />
<meta property="og:description" content="Tis’ the season for the Polar Express cars on the automated line:" />
<meta property="og:image"       content="https://www.alfray.com/trains/blog/randall/img_48beaf5e39945011c0b8d61fd55e8303c880ca5cd2aa85e95124238168aabda7i.jpg" />

<meta name="twitter:card"        content="summary" />
<!-- meta name="twitter:site"    content="@flickr" / -->

<meta name="twitter:title"       content="Blog: Randall Museum Model Railroad" />
<meta name="twitter:description" content="Tis’ the season for the Polar Express cars on the automated line:" />
<meta name="twitter:image"       content="https://www.alfray.com/trains/blog/randall/img_48beaf5e39945011c0b8d61fd55e8303c880ca5cd2aa85e95124238168aabda7i.jpg" />

<title>Blog: Randall Museum Model Railroad</title>

<script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5c66171070e9220011ed1c61&product=inline-share-buttons" async="async"></script>

<!-- Custom styles for this template -->
<style type="text/css">
body {
    font-family: sans-serif;
    margin: 0;
}

.main {
    margin: 8px;
}

p, span {
    line-height: 1.2;
    text-align: justify;
}

p.console {
    margin: 0;
    padding: 0;
}

.container {
    max-width: 95%;
}

@media screen and (min-width: 600px) {
    .container {
        max-width: 60rem;
    }
}

.center-horiz {
    margin: auto;
}

.no-margin-container {
}

/* Header + Title */
.blog-header {
  margin-bottom: 3rem;
  background-color: #428bca;
  box-shadow: inset 0 -.1rem .25rem rgba(0,0,0,.1);
}


.banner-bg-image {
    height: 50px;
    background-image: url("header.jpg");
    background-position: center;
    background-size: 100% auto;
}

@media screen and (min-width: 600px) {
    .banner-bg-image {
        height: 200px;
    }
}


.title-container {
    color: #fff;
    padding: 1rem;
    line-height: 1.5;
    font-weight: 500;
    font-size: 24px;
    font-family: sans-serif;
}

.title-container a {
    color: #fff;
    text-decoration: none;
}

.post-container {
}

.bottom-container {
    margin-top: 8px;
    color: #fff;
    background-color: #428bca;
    font-family: sans-serif;
    text-align: center;
    font-size: small;
    line-height: 1rem;
}

@media screen and (min-width: 600px) {
    .bottom-container {
        font-size: x-small;
    }
}

.post-title-container {
    position: relative;
    background-color: #428bca;
    padding: 0.5rem;
}

.post-title {
    display: inline;
    color: #fff;
    font-weight: 500;
    font-family: sans-serif;
    font-size: 1.5em;
}

a.post-title-link {
    color: #fff;
    text-decoration: none;
}

.post-cat {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    padding: 0.25rem;
    background-color: #d0e0e3;
    color: #000;
    font-weight: 500;
    font-family: sans-serif;
    font-size: 1.5em;
}

a.post-cat-link {
    color: #000;
    text-decoration: none;
}

.post-cat-label {
    display: block;
    text-align: right;
    color: #000;
    font-size: 0.4em;
}

.prev-next-container {
    overflow: auto;
}

.prev-page {
    float: left;
    line-height: 2em;
}

.next-page {
    float: right;
    line-height: 2em;
}

h1, h2, h3, h4, h5, h6 {
    font-family: sans-serif;
    font-weight: bold;
}

.text-hide {
    font: 0/0 a;
    color: transparent;
    text-shadow: none;
    background-color: transparent;
    border: 0;
}

td p {
    margin: 0;
}


</style>
</head>

<body>

<header class="blog-header">

    <div class="no-margin-container banner-bg-image text-hide">
        Site Banner Image
    </div>

    <div class="title-container">
        <a href="https://www.alfray.com/trains/">Ralf's Train Pages</a>
        
        /
        <a href="0005.html">Blog: Randall Museum Model Railroad</a>
        
    </div>
</header>

<main role="main">
<div class="main">
<div class="container center-horiz">

<p><span> </span></p>
<p><span></span></p>
<p><span> </span></p>
<table style="border-collapse:collapse;border-spacing:0;margin-left:auto;margin-right:auto">
 <tbody>
  <tr style="height:0pt">
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/index.html" style="color:inherit;text-decoration:inherit">Introduction</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/" style="color:inherit;text-decoration:inherit">Blog &amp; News</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/about.html" style="color:inherit;text-decoration:inherit">About the Model Railroad</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/rtac.html" style="color:inherit;text-decoration:inherit">RTAC Software</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/videos.html" style="color:inherit;text-decoration:inherit">Videos</a></span></p></td>
  </tr>
 </tbody>
</table>
<p></p>
<p><span style="font-style:italic">The Randall Museum in San Francisco hosts a large HO-scale model railroad. Created by the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="http://www.ggmrc.org" style="color:inherit;text-decoration:inherit">Golden Gate Model Railroad Club</a></span><span style="font-style:italic">&nbsp;starting in 1961, the layout was donated to the Museum in 2015. Since then I have started automatizing trains running on the layout. I am also the model railroad maintainer. </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/" style="color:inherit;text-decoration:inherit">This blog</a></span><span style="font-style:italic">&nbsp;describes various updates on the Randall Museum Model Railroad and I maintain a separate </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/" style="color:inherit;text-decoration:inherit">tech blog for all my electronics &amp; software</a></span><span style="font-style:italic">&nbsp;not directly related to Randall. </span><span></span></p>

<div class="prev-next-container">

    <span class="prev-page"><a href="0004.html">⇐ Newer Posts</a><br/></span>
    <span class="next-page"><a href="0006.html">Older Posts ⇒</a><br/></span>


</div>



    <div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-12-07_the_polar_express_on_automation_again.html">
    <h2 class="post-title">2023-12-07 - The Polar Express on Automation… Again</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    
    <a class="post-cat-link" href="../../blog/randall" title="View All Category Posts">Randall</a>
    </span>
</span></div>

<p><span>Tis’ the season for the Polar Express cars on the automated line:</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:161.33px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_48beaf5e39945011c0b8d61fd55e8303c880ca5cd2aa85e95124238168aabda7i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>I reinstalled the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2023-11-20_the_polar_express_on_automation.html" style="color:inherit;text-decoration:inherit">Polar Express for the season barely two weeks ago</a></span><span>, and almost immediately the BLI Hudson 4-6-4 #5278 lead engine failed while being used by the Saturday Operators. I plan to try to fix the Paragon 2 decoder later, yet that will take some time.</span></p>
<p></p>
<p><span>Instead, I got a new engine, a </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://shop.bachmanntrains.com/index.php?main_page=product_info&amp;cPath=258_276_283&amp;products_id=5756" style="color:inherit;text-decoration:inherit">Bachmann Berkshire 2-8-4</a></span><span>&nbsp;to lead the train, but not just any of them -- specifically </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://en.wikipedia.org/wiki/Pere_Marquette_1225" style="color:inherit;text-decoration:inherit">Pere Marquette #1225</a></span><span>, which is allegedly the actual inspiration for the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://en.wikipedia.org/wiki/The_Polar_Express_(film)#The_Polar_Express_Locomotive" style="color:inherit;text-decoration:inherit">engine in the Polar Express book</a></span><span>&nbsp;-- speaking of which, if you have not </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://amzn.to/3RwUgPb" style="color:inherit;text-decoration:inherit">read the Polar Express book</a></span><span>, I encourage you to go find it at your local library -- it’s a fairly short story yet it is very well written and the painted illustrations are simply delightful. The animated movie was interesting, yet the book is in my opinion the best medium for this story that you can read as a kid or an adult. It’s a timeless piece about hope and dreams.</span></p>
<p></p>
<hr>
<p></p>
<p></p>
<p><span></span></p>


</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-12-02_a_quick_update_on_projects.html">
    <h2 class="post-title">2023-12-02 - A Quick Update on Projects</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    
    <a class="post-cat-link" href="../../blog/randall" title="View All Category Posts">Randall</a>
    </span>
</span></div>

<p></p>
<p><span>Here’s a short update on current projects:</span></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://bitbucket.org/model-railroad/sdb" style="color:inherit;text-decoration:inherit">SDB</a></span><span>&nbsp;/ </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2023-11-25_trolley_automation_experiment.html" style="color:inherit;text-decoration:inherit">Trolley Automation</a></span><span>:</span></li>
 <ul>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>I did a LokSound firmware update for the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.bowser-trains.com/history/streetcarnohistory.html" style="color:inherit;text-decoration:inherit">Trolley Bowser 1379</a></span><span>. It seemed to behave a lot better after.</span></li>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>I finally understood why the automation works yet fails every day. </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://bitbucket.org/model-railroad/sdb" style="color:inherit;text-decoration:inherit">SDB</a></span><span>&nbsp;is working fine at detecting the car and then updating JMRI. However the problem is the wifi link. I’ve noticed the JSON updates could take up to 1 or 2 minutes to be detected by the JMRI “internal sensors” monitored by the Conductor software. So that’s what I need to understand next.</span></li>
 </ul>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>The BLI Hudson 4-6-4 #5278 that I’ve recently set up for the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2023-11-20_the_polar_express_on_automation.html" style="color:inherit;text-decoration:inherit">Polar Express automation</a></span><span>&nbsp;is now non-functional.</span></li>
 <ul>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Decoder doesn’t respond anymore, which is a typical problem we have with the BLI Paragon 2 decoders.</span></li>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Saturday Operators are running the Polar Express train with another engine, but that’s not the same thing.</span></li>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>I really miss that automation for this season.</span></li>
 </ul>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2023-09-16_swapping_up_8312_for_up_8330_da11ebc4.html" style="color:inherit;text-decoration:inherit">Walthers UP 8330 and 8312 engines</a></span><span>:</span></li>
 <ul>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>These are still not working. I tried 8330 again -- it worked for 2 days then stopped responding to DCC commands again. I tried to get them reimbursed but both TrainWorld and Walthers just played the finger-pointing game on the other party, and that got nowhere.</span></li>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>I’ll call it as I see it: the Walthers engines suffered from </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2022-10-08_issues_with_the_walthers_mai_53cea6e7.html" style="color:inherit;text-decoration:inherit">obvious quality control issues</a></span><span>&nbsp;from the start, and the newer LokSound Essential decoders in these engines are a piece of crap that clearly wasn’t finished properly before being sold. The logical next step is to replace them by real LokSound 4 or 5 decoders, or strip them entirely and use something solid like Tsunami decoders.</span></li>
 </ul>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.walthers.com/emd-gp30-soundtraxx-r-tsunami-r-sound-dcc-union-pacific-r-712" style="color:inherit;text-decoration:inherit">WalthersProto UP 722 and 712</a></span><span>&nbsp;were my replacement engines for the mainline automation.</span></li>
 <ul>
  <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>These are no longer working either. Their Tsunami decoders seem to only reply to DCC commands intermittently.</span></li>
 </ul>
</ul>
<p></p>
<p><span>So plenty of issues to address.</span></p>
<p></p>
<p><span>On the plus side, the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2023-11-06_an_update_on_vision_s_screen.html" style="color:inherit;text-decoration:inherit">new screen for the Vision computer</a></span><span>&nbsp;is working great, and visitors enjoy the videos. In the back, I’ve reworked the workbench programming track with a selector and that allows me easily switch between DC, NCE, and LokSound programmers. I have a DigiTrax PR3 to also hook up to that. That comes in handy to deal with all these locomotive decoders.</span></p>
<p></p>
<p></p>
<hr>
<p></p>


</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-11-25_trolley_automation_experiment.html">
    <h2 class="post-title">2023-11-25 - Trolley Automation Experiment</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    
    <a class="post-cat-link" href="../../blog/randall" title="View All Category Posts">Randall</a>
    </span>
</span></div>

<p></p>
<p><span>I’m currently experimenting with the preliminary design for the Trolley automation:</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><iframe width="560" height="315" src="https://www.youtube.com/embed/0GUrkBm8LEY" frameborder="0" allowfullscreen></iframe></span></p>
<p></p>
<p><span>The main focus here is the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://bitbucket.org/model-railroad/sdb" style="color:inherit;text-decoration:inherit">Software Defined Blocks</a></span><span>&nbsp;project which uses an ESP32 with sensors to emulate block activations for a train model railroad. I’m using this new automation as a test bed to experiment with that and different sensors.</span></p>
<p></p>
<p><span>Although the software part is progressing smoothly, the automation part is not, c.f. </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/2023-11-24_sdb_first_trolley_automation_ecde7037.html" style="color:inherit;text-decoration:inherit">results from the automation first test</a></span><span>.</span></p>
<p><span></span></p>

<a href="2023-11-25_trolley_automation_experiment.html">Click here to continue reading...</a>
<p/>
<hr/>
</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-11-20_the_polar_express_on_automation.html">
    <h2 class="post-title">2023-11-20 - The Polar Express on Automation</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    
    <a class="post-cat-link" href="../../blog/randall" title="View All Category Posts">Randall</a>
    </span>
</span></div>

<p></p>
<p><span>I have reinstalled #5278 and the Polar Express cars on the automated line:</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:194.67px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_957300b79498312436286df45da7eddffccb003ae47c37bf60944b6c019f7b0fi.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>Well, almost. It was pointed out to me later that I forgot the 3rd passenger car with the observation deck. Oops. </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="http://rrpicturearchives.net/locoPicture.aspx?id=245872" style="color:inherit;text-decoration:inherit">NYC #5278</a></span><span>, an </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.american-rails.com/4-6-4.html" style="color:inherit;text-decoration:inherit">Alco “Hudson” 4-6-4</a></span><span>, is our lead engine in this operation. The train from last year also had a nice Hershey freight car before the traditional </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="http://www.lionel.com/products/the-polar-expresstm-ho-scale-passenger-car-3-pack-6-58019/" style="color:inherit;text-decoration:inherit">Lionel HO Polar Express cars</a></span><span>. And let’s not dismiss the inkjet-printed labels that makes this a true Polar Express 🤣. We’ll update this one to match.</span></p>
<p></p>
<p><span>Since last year, I have entirely changed the automation program so I had to adapt the automation script to work with </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/rtac" style="color:inherit;text-decoration:inherit">Conductor 2</a></span><span>. The </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://bitbucket.org/model-railroad/conductor/commits/554f32b8e7cd5b5d752caf48d088861f0e2acb21" style="color:inherit;text-decoration:inherit">changes to the script</a></span><span>&nbsp;were fairly easy to make, and I had to adjust the timing a bit, especially since the new Conductor 2 requires setting min/max “safety” times for each block.</span><span>&nbsp;In hindsight, the timing changes may be due to the train having a different configuration, as its length influences the timing sequence.</span></p>
<p></p>
<p><span style="font-weight:700">Thanksgiving Update</span><span>: The Hershey car has been added as well as the last observation car thanks to Jim and Orion, and indeed that was the root cause of the automation timing changes. I had to adjust it back -- Happy Thanksgiving 🦃 !</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:190.67px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_10dfbdaa6b456590518bb0d21ceea334a119f2f0f0b0947057150dd164493b04i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>This train will be running at Randall on the shorter automated line all December, till the new year.</span></p>
<p></p>
<p><span>Here’s a run of the train captured back in 2019:</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><iframe width="560" height="315" src="https://www.youtube.com/embed/jhpiUBLiW0s" frameborder="0" allowfullscreen></iframe></span><span><br></span><span style="font-style:italic">A NYC J-1 Hudson (4-6-4) pulls our Polar Express on the Automated Line on the HO Scale DCC Layout at Randall Museum, San Francisco</span><span>.</span></p>
<p></p>
<p></p>
<hr>
<p></p>


</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-11-11_maintenance_overhead_light_for_lodi.html">
    <h2 class="post-title">2023-11-11 - Maintenance: Overhead Light for Lodi</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    
    <a class="post-cat-link" href="../../blog/randall" title="View All Category Posts">Randall</a>
    </span>
</span></div>

<p></p>
<p><span>Today, the museum was closed to honor Veterans Day. This was a great opportunity for Orion and I to tackle the task of updating the overhead fluorescent light from Lodi that has been dead for quite a while. My picture archives show the overhead light working back in 2015 and dead in 2017, after the museum renovation. We tried several times to change the fluorescent tubes for either “legacy” ones or LED, and none worked, thus leading me to believe that the ballast had died.</span></p>
<p></p>
<p><span>The goal was simply to open the fixture, with the power off of course, remove the ballast, and rewire the fixture for Direct Wire and install new LED tubes. Orion wanted to do all the work for learning purposes. So I had him practice the task on another similar </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2023-04-30_maintenance_lights_.html" style="color:inherit;text-decoration:inherit">fixture I had removed from Napa</a></span><span>&nbsp;a few months ago. It’s easier to learn with the fixture on a bench than working overhead. </span></p>
<p></p>
<p><span>The replacement LED tubes I got are </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.lowes.com/pd/GE/5013822207" style="color:inherit;text-decoration:inherit">GE Direct Wire Color Select 32-Watt EQ T8</a></span><span>. They exist in both </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.lowes.com/pd/GE/5013822207" style="color:inherit;text-decoration:inherit">Type A/B</a></span><span>&nbsp;(Direct Wire + Ballast), or </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.lowes.com/pd/GE/5013820993" style="color:inherit;text-decoration:inherit">Type B only</a></span><span>&nbsp;(only Direct Wire). Interestingly, these have a little </span><span style="font-style:italic">physical</span><span>&nbsp;switch which allows to set them for either 4000K, 5000K, or 6500K.</span></p>
<p></p>
<p><span>Before starting, we turned the power off at the wall switches </span><span style="font-style:italic">and</span><span>&nbsp;turned off the associated circuit breaker at the panel in the room.</span></p>
<p></p>
<p><span>We first cleared the area a bit, to have some place to work:</span></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:596.93px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.90px"><img alt="" src="img_ee454f8bf85f2d02a62c8174428bad2ceabd558829a3c907e449542c63732188i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>These overhead fluorescent lights fixtures are fairly simple. The cover is simply held in place with two tabs, making it easy to remove. Once we did that, we got a somewhat nasty surprise:</span></p>
<p></p>
<p style="text-align:left"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:288.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_15cc24fdf65cda80ab674e43e1b39659fe41972da8f91b0db0a8eabdc1a9f3c5i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>All that black gunk on the bottom cover is actually the dielectric insulator “oil” from the ballast. Turns out that one had badly leaked. It’s worth noting that the roof is slanted (we’re under the museum’s theater), and thus the light fixture is not flat, which explains why it had only leaked in one direction. We even found some of it on the layout below:</span></p>
<p><span></span></p>

<a href="2023-11-11_maintenance_overhead_light_for_lodi.html">Click here to continue reading...</a>
<p/>
<hr/>
</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-11-06_an_update_on_vision_s_screen.html">
    <h2 class="post-title">2023-11-06 - An Update on Vision’s Screen</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    
    <a class="post-cat-link" href="../../blog/randall" title="View All Category Posts">Randall</a>
    </span>
</span></div>

<p></p>
<p><span>The </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/about.html#h.7m64vnftp5qs" style="color:inherit;text-decoration:inherit">Vision laptop</a></span><span>&nbsp;runs the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://bitbucket.org/model-railroad/vision" style="color:inherit;text-decoration:inherit">vision</a></span><span>&nbsp;software -- it displays some live views of the automated trains as well as pre-recorded videos. The laptop’s </span><span>internal screen is no longer actually usable: it looks fine at first, then quickly displays purple strobing/flickering lines. It does that even in the BIOS. I've made many attempts such as switching from CPU graphics to the discrete GPU, trying lower or higher resolutions or refresh frequencies… For a while I had a workaround that involved a specific sequence of </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://tldp.org/HOWTO/Battery-Powered/displaytypes.html" style="color:inherit;text-decoration:inherit">DPMS</a></span><span>&nbsp;on/off, and that was enough to reset the controller or something. Now, n</span><span>othing makes it stable anymore. I dismantled the laptop and found no physical issue with it. Trying to replace the screen or its cable would be almost as expensive or more than getting a new laptop or a new screen so…</span></p>
<p></p>
<p><span>So instead I did this:</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:428.50px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:767.45px"><img alt="" src="img_86e10d20accd7919d24c991e04786366cf6afbd7ecc89aaa4d68b75126aad048i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:429.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:765.00px"><img alt="" src="img_31daa928511380db49910ae2942043fd4c135342896c0627c917f23cb60162c7i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>I moved the laptop on the side and the main display is a new 22 inch monitor. It's a good size for the space available, without being too distracting. Behind the screen is a small hill, thus we’re not blocking any view of the layout.</span></p>
<p></p>
<p><span>Ironically that more or less matches the initial design for this project -- I had anticipated having a computer hidden under the layout driving an external monitor behind the glass.</span></p>
<p><span>Although my initial design was to hide the machine under the layout, I quickly opted not to do that since that happens to be extremely cumbersome for maintenance, and at the same time I had a laptop with a screen, so why not use it? Similarly, here I decided to just place the laptop on the other side of the “hill” behind the glass, with a linux command to make sure the screen stays turned off. </span></p>
<p></p>
<p><span>The only follow-up I need now is to modify the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://bitbucket.org/model-railroad/vision" style="color:inherit;text-decoration:inherit">vision</a></span><span>&nbsp;software to turn the external screen on/off when the layout is powered. I just need to hook a script in the existing </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://bitbucket.org/model-railroad/vision/src/master/src/main/java/com/alflabs/trainmotion/display/DisplayController.java" style="color:inherit;text-decoration:inherit">DisplayController</a></span><span>&nbsp;to control </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://tldp.org/HOWTO/Battery-Powered/displaytypes.html" style="color:inherit;text-decoration:inherit">Linux’s DPMS</a></span><span>.</span></p>
<p></p>
<hr>
<p></p>


</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-10-15_halloween_trains_at_randall__30273e7d.html">
    <h2 class="post-title">2023-10-15 - Halloween Trains at Randall Museum Model Railroad</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    
    <a class="post-cat-link" href="../../blog/randall" title="View All Category Posts">Randall</a>
    </span>
</span></div>

<p></p>
<p><span>The </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://randallmuseum.org/randall-museum-events/halloween/" style="color:inherit;text-decoration:inherit">Halloween event at Randall Museum</a></span><span>&nbsp;will happen on </span><span style="-webkit-text-decoration-skip:none;text-decoration:underline;text-decoration-skip-ink:none">Saturday 21st of October</span><span>&nbsp;this year.</span></p>
<p></p>
<p><span>As usual, Jim has prepared specific Halloween trains that Jim, Allen, Allan, and Orion will run:</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:270.67px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_a0576f77088d9f5aa33c3fa4fad28f41b8abe2fd16ccde09a2ddde43ab1f09bbi.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:297.33px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_bf2dcdf17ef23623324dd07dd075e8d0a2dc22f841293de570155217e7d95365i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>The diesel engine is </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="http://espee.railfan.net/sp7342.html" style="color:inherit;text-decoration:inherit">SP 7342</a></span><span>&nbsp;which features a fairly unique Daylights paint scheme, fairly appropriate for this event.</span></p>
<p></p>
<p><span>Here’s a video of the Halloween diesel train running, with a surprise apparition of 153 at the end:</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><iframe width="560" height="315" src="https://www.youtube.com/embed/AyD2xIAsR3c" frameborder="0" allowfullscreen></iframe></span></p>
<p></p>
<p><span>Come enjoy the trains this Saturday!</span></p>
<p></p>
<p></p>
<p></p>
<hr>
<p></p>


</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-09-27_up_gp30_722.html">
    <h2 class="post-title">2023-09-27 - UP GP30 #722</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    
    <a class="post-cat-link" href="../../blog/randall" title="View All Category Posts">Randall</a>
    </span>
</span></div>

<p></p>
<p><span>My last attempt to revive the Walthers UP 8312 didn't last. So now…</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:172.00px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_793f28b3974c367540690107ad968053b4a564f45f92bffad6c5f77c10859b1fi.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span style="background-color:rgb(255, 255, 255);color:rgb(34, 34, 34)">UP 722 (GP30) is now in Passenger Automation.</span></p>
<p><span style="background-color:rgb(255, 255, 255);color:rgb(34, 34, 34)">This is a </span><span style="-webkit-text-decoration-skip:none;background-color:rgb(255, 255, 255);color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.walthers.com/emd-gp30-soundtraxx-r-tsunami-r-sound-dcc-union-pacific-r-712" style="color:inherit;text-decoration:inherit">WalthersProto with a Tsunami decoder</a></span><span style="background-color:rgb(255, 255, 255);color:rgb(34, 34, 34)">.</span></p>
<p><span>It’s twin-sister engine UP 712 will serve as a backup.</span></p>
<p></p>
<p></p>
<hr>
<p></p>


</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-09-16_swapping_up_8312_for_up_8330_da11ebc4.html">
    <h2 class="post-title">2023-09-16 - Swapping UP 8312 for UP 8330 -- Update: Failed Again!</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    
    <a class="post-cat-link" href="../../blog/randall" title="View All Category Posts">Randall</a>
    </span>
</span></div>

<p></p>
<p><span>On Thursday, the Walthers UP 8312 engine stopped moving. At first the automation still had DCC control of the headlights, but no sound and no movement. On Saturday, the engine was as active as a brick, not even the lights would turn on. This is more or less what happened to its twin engine when </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2023-07-14_up_8312.html" style="color:inherit;text-decoration:inherit">UP 8330 stopped working</a></span><span>&nbsp;back in July. </span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:237.33px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_3b9eec38d01fdab73c140abdc776264ca1e64e5483e746f4787f6a6262a13f91i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>In between, I got </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2023-09-09_up_8330_is_working_again.html" style="color:inherit;text-decoration:inherit">UP 8330 working again thanks to the support from Walthers</a></span><span>. The decoder had a physical defect, they sent me another one, I swapped it, I reprogrammed a couple CVs, and voila, the train is back in action. For the record, the parameters I need for this engine are:</span></p>
<p></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>CV Acceleration = 24.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>CV Deccelation = 12.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Function panel &gt; F5 to activate the ditch lights (instead of F4).</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Function panel &gt; Remove F9 for Drive Hold.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Select the option to “Remember functions’ states”.</span></li>
</ul>
<p><span>All of these are easy to do with JMRI (JMRI 5 and above have the definition file for the new Essential Sound Unit decoder).</span></p>
<p></p>
<p><span>Thus I put UP 8330 back in automation yesterday, yeah!</span></p>
<p></p>
<p><span>I realized I forgot to change the horn on the other one, not a big fan of the default. I generally go for a P5 of similar, imho that sounds better. That’s not an obvious change in JMIR or LokProgrammer, I need the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.walthers.com/emd-sd70ace-esu-r-sound-dcc-union-pacific-r-8330-armour-yellow-gray-red-sill-u-s-flag-high-headlig" style="color:inherit;text-decoration:inherit">CV values from the Walthers web site </a></span><span>for that decoder.</span></p>
<p></p>
<p style="margin-left:36pt"><span style="font-weight:700">Update 9/20/2023</span><span>: Automation started running with the new UP 8330 yesterday, Tuesday 9/19/2023. Today Wednesday 9/20 at 2pm, the engine stopped moving. Again it still has light &amp; sound control, but no movement. That’s the pattern from last time, then in a day or two, it won’t even have light &amp; sound control via dcc commands.</span></p>
<p><span></span></p>

<a href="2023-09-16_swapping_up_8312_for_up_8330_da11ebc4.html">Click here to continue reading...</a>
<p/>
<hr/>
</div>
<div class="post-container">
<div class="post-title-container">
<a class="post-title-link" href="2023-09-10_adjusting_the_conductor_2_program.html">
    <h2 class="post-title">2023-09-10 - Adjusting the Conductor 2 Program</h2>
</a>
<span class="post-cat" title="Category">
    <span class="post-cat-label">Category</span>
    <span class="post-cat-text">
    
    <a class="post-cat-link" href="../../blog/randall" title="View All Category Posts">Randall</a>
    </span>
</span></div>

<p></p>
<p><span>The last 2 days, we had a problem with the UP automated train stopping just out of the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/about.html#h.1a30ydkpyo99" style="color:inherit;text-decoration:inherit">Stockton Station</a></span><span>:</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:174.67px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_dc2d10cfa5163d53a52d0d4d53e5c6a9b396187ab566cb14c55a68ffc5521e81i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>At first I was a bit puzzled -- the train was fine, there was no dead block, there wasn’t any reason for it to stop.</span></p>
<p></p>
<p><span>This, ironically, turned out to be due to </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/rtac" style="color:inherit;text-decoration:inherit">Conductor 2</a></span><span>&nbsp;working as expected: the script had a timing issue, and the automation software was stopping the train because the script said there was an error condition.</span></p>
<p></p>
<p><span>To understand the root cause of this, we need to deal with </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/2023-09-11_conductor_2_route_statistics_54d3297b.html" style="color:inherit;text-decoration:inherit">route statistics as explained here</a></span><span>, and most specifically this data:</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:421.33px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_dd079d764932e4eed30e1a0cc913c57badac2773e03d38b212bc1d101baf25c8i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/2023-09-11_conductor_2_route_statistics_54d3297b.html" style="color:inherit;text-decoration:inherit">All the details are in the other blog</a></span><span>, so I’ll only provide a brief summary here: the script defines the minimum time that a train should spend on a block, and my default ballpark value for this was 10 seconds for all the routes. The software then enforces that -- if a train activates the </span><span style="font-style:italic">next</span><span>&nbsp;block too fast, something’s definitely unusual and unexpected. In automation, we don’t like “unexpected” things. Typically that means something else (like another train) could be occupying that next block, or that the controlled train is going too fast for some reason, or any unexpected thing that would make that next block look occupied to the block sensor. In either case, that’s an error, and the automation software stops the controlled train right away before it crashes into something.</span></p>
<p></p>
<p><span>However it turns out that block B503a is really a very small block, and it really can take 10 seconds to cross it, or even less. For a week or so, the timing was very close to that minimum time, but just a tiny bit above. Then the last two days, the train was initially taking just a bit more than 10 seconds (everything’s good) and then, probably as it warmed up, it was taking around 9.5 seconds to cross that block, fast enough to trigger the error mode for the automation.</span></p>
<p></p>
<p><span>The fix is of course very simple: adjust the timing for that specific block. In that case, I’ve set it to 5 seconds minimum.</span></p>
<p></p>
<table style="border-collapse:collapse;border-spacing:0;margin-right:auto">
 <tbody>
  <tr style="height:0pt">
   <td colspan="1" rowspan="1" style="background-color:rgb(236, 242, 247);border-bottom-color:rgb(0, 0, 0);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(0, 0, 0);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(0, 0, 0);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(0, 0, 0);border-top-style:solid;border-top-width:1pt;padding:5pt 5pt 5pt 5pt;vertical-align:top;width:597.6pt"><p style="text-align:left" class="console "><span style="font-family:&quot;Consolas&quot;;font-size:9pt;vertical-align:baseline">&nbsp; &nbsp; val B503a_fwd = node(B503a) {</span></p><p style="text-align:left" class="console "><span style="font-family:&quot;Consolas&quot;;font-size:9pt;vertical-align:baseline">&nbsp; &nbsp; &nbsp; &nbsp; minSecondsOnBlock = 5</span></p><p style="text-align:left" class="console "><span style="font-family:&quot;Consolas&quot;;font-size:9pt;vertical-align:baseline">&nbsp; &nbsp; &nbsp; &nbsp; maxSecondsOnBlock = 30</span></p><p style="text-align:left" class="console "><span style="font-family:&quot;Consolas&quot;;font-size:9pt;vertical-align:baseline">&nbsp; &nbsp; &nbsp; &nbsp; onEnter {</span></p><p style="text-align:left" class="console "><span style="font-family:&quot;Consolas&quot;;font-size:9pt;vertical-align:baseline">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PA.bell(Off)</span></p><p style="text-align:left" class="console "><span style="font-family:&quot;Consolas&quot;;font-size:9pt;vertical-align:baseline">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p style="text-align:left" class="console "><span style="font-family:&quot;Consolas&quot;;font-size:9pt;vertical-align:baseline">&nbsp; &nbsp; }</span></p></td>
  </tr>
 </tbody>
</table>
<p></p>
<p><span>That’s why I added the capability to </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/2023-08-23_conductor_2_route_statistics.html" style="color:inherit;text-decoration:inherit">log statistics at the end of a run</a></span><span>, and then made a nice spreadsheet </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/2023-09-11_conductor_2_route_statistics_54d3297b.html" style="color:inherit;text-decoration:inherit">showing every duration spent on every block</a></span><span>. This way I have a complete understanding of how I should adjust these timeouts.</span></p>
<p></p>
<p></p>
<hr>
<p></p>


</div>





<div class="prev-next-container">

    <span class="prev-page"><a href="0004.html">⇐ Newer Posts</a><br/></span>
    <span class="next-page"><a href="0006.html">Older Posts ⇒</a><br/></span>


</div>

</div> <!-- container -->
</div> <!-- main -->

<div class="sharethis-inline-share-buttons"></div>

<div class="bottom-container">&nbsp;Generated on 2025-09-05 by Rig4j 0.1-Exp-05cc7b2&nbsp;</div>

</main>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-M1KDMEFC4D"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M1KDMEFC4D');
</script>

</body>
</html>

