<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport"    content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author"      content="">

<link href="atom.xml" type="application/atom+xml" rel="alternate" title="Atom feed for Blog: Randall Museum Model Railroad" />

<meta property="og:url"         content="https://www.alfray.com/trains/blog/randall/2024-12-18_mainline_automation_woes.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Mainline Automation Woes" />

<meta property="og:description" content="The Passenger Train stopped working on the Mainline automation yesterday. The train was nowhere to be found on the remote cameras, yet JMRI detected the train’s presence on block B360 -- that’s the curve just before reaching Summit on the mountain." />
<meta property="og:image"       content="https://www.alfray.com/trains/blog/randall/img_509f00b3826dc6b7621484d9cdfff067ad5d944552a14d4897315d1a3fa37742i.jpg" />

<meta name="twitter:card"        content="summary" />
<!-- meta name="twitter:site"    content="@flickr" / -->
<meta name="twitter:title"       content="Mainline Automation Woes" />

<meta name="twitter:description" content="The Passenger Train stopped working on the Mainline automation yesterday. The train was nowhere to be found on the remote cameras, yet JMRI detected the train’s presence on block B360 -- that’s the curve just before reaching Summit on the mountain." />
<meta name="twitter:image"       content="https://www.alfray.com/trains/blog/randall/img_509f00b3826dc6b7621484d9cdfff067ad5d944552a14d4897315d1a3fa37742i.jpg" />

<title>Blog: Randall Museum Model Railroad</title>

<script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5c66171070e9220011ed1c61&product=inline-share-buttons" async="async"></script>

<!-- Custom styles for this template -->
<style type="text/css">
body {
    font-family: sans-serif;
    margin: 0;
}

.main {
    margin: 8px;
}

p, span {
    line-height: 1.2;
    text-align: justify;
}

p.console {
    margin: 0;
    padding: 0;
}

.container {
    max-width: 95%;
}

@media screen and (min-width: 600px) {
    .container {
        max-width: 60rem;
    }
}

.center-horiz {
    margin: auto;
}

.no-margin-container {
}

/* Header + Title */
.blog-header {
  margin-bottom: 3rem;
  background-color: #428bca;
  box-shadow: inset 0 -.1rem .25rem rgba(0,0,0,.1);
}


.banner-bg-image {
    height: 50px;
    background-image: url("header.jpg");
    background-position: center;
    background-size: 100% auto;
}

@media screen and (min-width: 600px) {
    .banner-bg-image {
        height: 200px;
    }
}


.title-container {
    color: #fff;
    padding: 1rem;
    line-height: 1.5;
    font-weight: 500;
    font-size: 24px;
    font-family: sans-serif;
}

.title-container a {
    color: #fff;
    text-decoration: none;
}

.post-container {
}

.bottom-container {
    margin-top: 8px;
    color: #fff;
    background-color: #428bca;
    font-family: sans-serif;
    text-align: center;
    font-size: small;
    line-height: 1rem;
}

@media screen and (min-width: 600px) {
    .bottom-container {
        font-size: x-small;
    }
}

.post-title-container {
    position: relative;
    background-color: #428bca;
    padding: 0.5rem;
}

.post-title {
    display: inline;
    color: #fff;
    font-weight: 500;
    font-family: sans-serif;
    font-size: 1.5em;
}

a.post-title-link {
    color: #fff;
    text-decoration: none;
}

.post-cat {
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    padding: 0.25rem;
    background-color: #d0e0e3;
    color: #000;
    font-weight: 500;
    font-family: sans-serif;
    font-size: 1.5em;
}

a.post-cat-link {
    color: #000;
    text-decoration: none;
}

.post-cat-label {
    display: block;
    text-align: right;
    color: #000;
    font-size: 0.4em;
}

.prev-next-container {
    overflow: auto;
}

.prev-page {
    float: left;
    line-height: 2em;
}

.next-page {
    float: right;
    line-height: 2em;
}

h1, h2, h3, h4, h5, h6 {
    font-family: sans-serif;
    font-weight: bold;
}

.text-hide {
    font: 0/0 a;
    color: transparent;
    text-shadow: none;
    background-color: transparent;
    border: 0;
}

td p {
    margin: 0;
}


</style>
</head>

<body>

<header class="blog-header">

    <div class="no-margin-container banner-bg-image text-hide">
        Site Banner Image
    </div>

    <div class="title-container">
        <a href="https://www.alfray.com/trains/">Ralf's Train Pages</a>
        
        /
        <a href="0001.html">Blog: Randall Museum Model Railroad</a>
        
    </div>
</header>

<main role="main">
<div class="main">
<div class="container center-horiz">

<p><span> </span></p>
<p><span></span></p>
<p><span> </span></p>
<table style="border-collapse:collapse;border-spacing:0;margin-left:auto;margin-right:auto">
 <tbody>
  <tr style="height:0pt">
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/index.html" style="color:inherit;text-decoration:inherit">Introduction</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/" style="color:inherit;text-decoration:inherit">Blog &amp; News</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/about.html" style="color:inherit;text-decoration:inherit">About the Model Railroad</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/rtac.html" style="color:inherit;text-decoration:inherit">RTAC Software</a></span></p></td>
   <td colspan="1" rowspan="1" style="background-color:rgb(103, 78, 167);border-bottom-color:rgb(255, 255, 255);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(255, 255, 255);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(255, 255, 255);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(255, 255, 255);border-top-style:solid;border-top-width:1pt;padding:7.2pt 7.2pt 7.2pt 7.2pt;vertical-align:top;width:119.5pt"><p style="text-align:center"><span style="-webkit-text-decoration-skip:none;color:rgb(255, 217, 102);font-size:14pt;font-weight:700;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/videos.html" style="color:inherit;text-decoration:inherit">Videos</a></span></p></td>
  </tr>
 </tbody>
</table>
<p></p>
<p><span style="font-style:italic">The Randall Museum in San Francisco hosts a large HO-scale model railroad. Created by the </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="http://www.ggmrc.org" style="color:inherit;text-decoration:inherit">Golden Gate Model Railroad Club</a></span><span style="font-style:italic">&nbsp;starting in 1961, the layout was donated to the Museum in 2015. Since then I have started automatizing trains running on the layout. I am also the model railroad maintainer. </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/" style="color:inherit;text-decoration:inherit">This blog</a></span><span style="font-style:italic">&nbsp;describes various updates on the Randall Museum Model Railroad and I maintain a separate </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);font-style:italic;text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/" style="color:inherit;text-decoration:inherit">tech blog for all my electronics &amp; software</a></span><span style="font-style:italic">&nbsp;not directly related to Randall. </span><span></span></p>

<div class="prev-next-container">


    <span class="prev-page"><a href="2025-01-01_happy_new_year.html">⇐ Newer Post</a><br/></span>
    <span class="next-page"><a href="2024-12-16_ambiance.html">Older Post ⇒</a><br/></span>

</div>


    <div class="post-container">
    <div class="post-title-container"><h2 class="post-title">2024-12-18 - Mainline Automation Woes</h2>
    <span class="post-cat" title="Category">
            <span class="post-cat-label">Category</span>
            <span class="post-cat-text">Randall</span>
    </span>
    </div>


    <p></p>
<p><span>The Passenger Train stopped working on the Mainline automation yesterday. The train was nowhere to be found on the remote cameras, yet JMRI detected the train’s presence on block B360 -- that’s the curve just before reaching Summit on the mountain.</span></p>
<p></p>
<p><span>Since I wasn’t in a position to go to the museum to investigate, I remotely updated the automation script over SSH to disable the Passenger train and only run the Freight train on the automation.</span></p>
<p></p>
<p><span style="font-weight:700">Issue 1</span></p>
<p></p>
<p><span>When I got there today, I found this:</span></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:258.67px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_509f00b3826dc6b7621484d9cdfff067ad5d944552a14d4897315d1a3fa37742i.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>That’s a new one as I had never seen a derailment at that spot before. But hey, “HO train derails, must be Tuesday”.</span></p>
<p></p>
<p><span>From there, every effort at fixing the situation pretty much went wrong one way or another.</span></p>
<p><span></span></p>
<p></p>
<p><span>First, I grabbed the train and brought it back to the Stockton Yard to set it up again for automation. Chatting with Orion, he suggested maybe cleaning the wheels would help. They didn’t seem otherwise dirty but why not. And actually I’m glad I did because I found there was something odd going on with the engine -- it vibrated when set in reverse. That’s not supposed to happen.</span></p>
<p></p>
<p><span>I decided to open the engine to look at the gears inside. These are a bit confusing to open and I was trying to remember how to do that when I remembered I wrote myself a specific page on doing just that: </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/2022-10-09_shell_removal_ho_walthers_ma_aaa6a775.html" style="color:inherit;text-decoration:inherit">Shell Removal: HO Walthers Mainline SD70ACe</a></span><span>.</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:313.33px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_0333e2c9e8d9373e83e6ebb504565c7a9245a0ff597c21097edd39e74081108ei.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>The front truck does indeed vibrate but only when going in reverse direction. I suspect a stripped gear or something similar, which won’t be obvious to fix unfortunately. That seems like one more unwanted issue on </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/train/2022-10-09_an_update_on_the_walthers_ma_49a0f7ec.html" style="color:inherit;text-decoration:inherit">these Walthers engines with which I had just issue after issue</a></span><span>. I wouldn't expect Whalters to have spare parts although I'll ask.</span></p>
<p></p>
<p><span>This UP 8330 engine is thus out of service for now. I thus chose to use the twin engine UP 8312 for the automation. There was a </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2024-06-05_up_8330_on_the_mainline_automation.html" style="color:inherit;text-decoration:inherit">reason why I pulled it off automation a few months ago</a></span><span>&nbsp;though. I didn’t like the custom sound I programmed on the LokSound for UP 8312, and I preferred the one for 8330. I realize now I forgot to make that change, but that will be for another day -- it’s more than just a “trivial” sound change, as the program has very different acceleration characteristics for the motor, which requires me to entirely reprogram the automation script accordingly. Thus I’ll do that later when it’s not urgent -- that kind of work typically takes at least 4+ hours to get done right.</span></p>
<p></p>
<p><span>So fine, I reinstall UP 8312 in automation using the same engine profile that I programmed last time. It should work, and indeed at first it seems to work -- till the engine reaches Summit, reverse as expected, and… the automation fails while the engine is going down the mountain. Wait, what? OK now we have a </span><span style="font-style:italic">different</span><span>&nbsp;problem.</span></p>
<p></p>
<p><span style="font-weight:700">Issue 2</span></p>
<p></p>
<p><span>I check the automation logs and things look fine yet there was an error in one of the track sensors but nothing seems off. That’s wrong -- either there’s an error or there isn’t. After trying the automation 3 times, it works </span><span style="font-style:italic">one</span><span>&nbsp;time and fails twice, and I finally notice the pattern, this is subtle yet wrong:</span></p>
<p></p>
<table style="border-collapse:collapse;border-spacing:0;margin-left:auto;margin-right:auto">
 <tbody>
  <tr style="height:0pt">
   <td colspan="1" rowspan="1" style="background-color:rgb(0, 0, 0);border-bottom-color:rgb(0, 0, 0);border-bottom-style:solid;border-bottom-width:1pt;border-left-color:rgb(0, 0, 0);border-left-style:solid;border-left-width:1pt;border-right-color:rgb(0, 0, 0);border-right-style:solid;border-right-width:1pt;border-top-color:rgb(0, 0, 0);border-top-style:solid;border-top-width:1pt;padding:5pt 5pt 5pt 5pt;vertical-align:top;width:597.6pt"><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:54:05.335 D 8312 : Bell OFF</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:54:05.335 D 8312 : F1 OFF</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:54:05.335 D 8312 : Horn</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:54:06.036 D 8312 : -22</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:54:32.055 S S/NS775 B360 : ON</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:54:32.055 B S/NS775 B360 : EMPTY after 77.79 seconds</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:54:32.056 B S/NS776 B370 : TRAILING after 77.79 seconds</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:54:32.056 B S/NS775 B360 : OCCUPIED after 0.00 seconds</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:54:38.393 S S/NS776 B370 : OFF</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:54:44.104 D 8312 : -24</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:55:07.755 S S/NS774 B340 : ON</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:55:07.756 B S/NS776 B370 : EMPTY after 35.70 seconds</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:55:07.756 B S/NS775 B360 : TRAILING after 35.70 seconds</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:55:07.757 B S/NS774 B340 : OCCUPIED after 113.49 seconds</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:55:51.138 S S/NS773 B330 : ON</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:55:51.139 B S/NS775 B360 : EMPTY after 43.38 seconds</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:55:51.139 B S/NS774 B340 : TRAILING after 43.38 seconds</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:55:51.140 B S/NS773 B330 : OCCUPIED after 190.83 seconds</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:55:51.172 R Sequence Mainline #3 Passenger (8312) : ERROR Sequence Mainline #3 Passenger (8312) has unexpected occupied blocks out of {B330}: [&lt;B360 [NS775]&gt;]</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:55:51.172 R Sequence Mainline #3 Passenger (8312) : ERROR</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">[...]</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:55:52.390 S S/NS775 B360 : OFF</span></p><p style="text-align:left" class="console "><span style="color:rgb(0, 255, 0);font-family:&quot;Consolas&quot;;font-weight:700;vertical-align:baseline">15:55:52.391 D 8312 : F5 OFF</span></p></td>
  </tr>
 </tbody>
</table>
<p></p>
<p><span>I’m kidding, I don’t expect you to understand that log. What’s interesting in this log is </span><span style="font-style:italic">the line that is not there</span><span>. So how about this view from </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/randall/rtac.html" style="color:inherit;text-decoration:inherit">Conductor 2</a></span><span>, the software that controls the automation and monitors the track occupancy:</span></p>
<p></p>
<p style="text-align:center"><span style="-webkit-transform:rotate(0.00rad) translateZ(0px);border:0.00px solid #000000;display:inline-block;height:482.67px;margin:0.00px 0.00px;overflow:hidden;transform:rotate(0.00rad) translateZ(0px);width:796.80px"><img alt="" src="img_ac4c1478eeb0905f475e1e80e6ae65c5aef3632b064beffd8f74f116b3b6a383d.jpg" style="margin-left:0.00px;margin-top:0.00px" title=""></span></p>
<p></p>
<p><span>Here’s how to read the log:</span></p>
<ul style="margin:0">
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>The train stops at Summit, which is block B370. That’s occupied, as expected.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>Then it reverses to go back down the mountain.</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>When doing that, it enters block B360, whose sensor promptly turns on. </span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>After that, the train moves to block B340 (there’s no block B350, don’t ask).</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>At that point, the block B360 should turn off as soon as the train is fully in block B340…</span></li>
 <li style="line-height:1.15;padding-bottom:0pt;padding-left:0pt;padding-top:0pt"><span>…and that’s precisely what does not happen -- there should be a line “B360: OFF” at timestamp 15:54:08” and it’s blatantly missing. </span><span style="font-weight:700">Instead the block B360 stays on for a “long time”</span><span>&nbsp;-- namely a whopping 1 minute and 20 seconds -- </span><span style="font-weight:700">even though the train has already left the block!</span></li>
</ul>
<p></p>
<p><span>The bottom line is that there’s something odd going on here. There is no “debounce” in JMRI that would force that sensor to stay on, and that seems like a fairly new behavior. The sensor itself is a regular NCE BD20 as shown in this </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2024-01-29_iowa_scaled_ckt-bd1_sensors__18f61f08.html" style="color:inherit;text-decoration:inherit">post when I installed the CKT-BD1</a></span><span>&nbsp;(B370 has one, but B360 uses the legacy BD20)</span><span>.</span></p>
<p><span>I also note that </span><span style="font-weight:700">JMRI thinks that block B380 is occupied, when there’s nothing on that block either</span><span>. That leads me to suspect something wrong in the Mountain Panel where the sensors are installed rather than a software problem. </span></p>
<p></p>
<p><span>Or maybe it’s a different electrical problem somewhere else. The reason I say that is because block B360 is one of the two blocks that magically </span><span style="-webkit-text-decoration-skip:none;color:rgb(17, 85, 204);text-decoration:underline;text-decoration-skip-ink:none"><a href="https://www.alfray.com/trains/blog/randall/2024-11-19_richmond_yard_panel_and_moun_a8d081ac.html" style="color:inherit;text-decoration:inherit">register as occupied when the Richmond Yard is being used</a></span><span>, even though they are supposed to be electrically isolated (and clearly, they are not). In this case, Richmond Yard was not in use, yet that’s an eerily similar situation.</span></p>
<p></p>
<p><span>To be continued.</span></p>
<p></p>
<p><span>Update: Next morning, another try… This time the “phantom block B360 stays on for one minute after the train leaves the block” does not occur at all. That may be an issue with sensor sensitivity in this case. The passive current-sensing sensors like the BD20 can sometimes get too sensitive and need to be adjusted.</span></p>
<p></p>
<hr>
<p></p>
<p></p>
<p><span></span></p>


    </div>



<div class="prev-next-container">


    <span class="prev-page"><a href="2025-01-01_happy_new_year.html">⇐ Newer Post</a><br/></span>
    <span class="next-page"><a href="2024-12-16_ambiance.html">Older Post ⇒</a><br/></span>

</div>

</div> <!-- container -->
</div> <!-- main -->

<div class="sharethis-inline-share-buttons"></div>

<div class="bottom-container">&nbsp;Generated on 2025-09-05 by Rig4j 0.1-Exp-05cc7b2&nbsp;</div>

</main>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-M1KDMEFC4D"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M1KDMEFC4D');
</script>

</body>
</html>

